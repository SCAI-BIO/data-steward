{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataUpload.vue","mtime":1626075497077},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB2dWUyRHJvcHpvbmUgZnJvbSAidnVlMi1kcm9wem9uZSI7CmltcG9ydCAidnVlMi1kcm9wem9uZS9kaXN0L3Z1ZTJEcm9wem9uZS5taW4uY3NzIjsKaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAidXVpZCI7CmltcG9ydCBNIGZyb20gIm1hdGVyaWFsaXplLWNzcyI7CmltcG9ydCAkIGZyb20gImpxdWVyeSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgdnVlRHJvcHpvbmU6IHZ1ZTJEcm9wem9uZSwKICB9LAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIGRyb3B6b25lT3B0aW9uczogewogICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvcG9zdC9iYXNpYy11cGxvYWQiLAogICAgICAgIHRodW1ibmFpbFdpZHRoOiAxNTAsCiAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWUsCiAgICAgICAgbWF4RmlsZXM6IDEsCiAgICAgIH0sCiAgICAgIG5vdEZvdW5kOiBbXSwKICAgICAgYWxsQXR0cmlidXRlczoge30sCiAgICAgIGFsbFNvdXJjZXM6IHt9LAogICAgICBpZDogdXVpZHY0KCksCiAgICAgIHVwZGF0ZVVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2NhY2hlIiwKICAgICAgaW50ZXJ2YWw6IDIwMDAsCiAgICAgIHByb2dyZXNzOiAwLAogICAgICBvcHRpb25zOiB7CiAgICAgICAgY29sb3I6ICIjNTc5ZmRjIiwKICAgICAgICAiZW1wdHktY29sb3IiOiAiIzMyNGM3ZSIsCiAgICAgICAgc2l6ZTogMzAwLAogICAgICAgIHRoaWNrbmVzczogNSwKICAgICAgICAiZW1wdHktdGhpY2tuZXNzIjogMywKICAgICAgICAibGluZS1tb2RlIjogIm91dCA1IiwKICAgICAgICBhbmltYXRpb246ICJycyA3MDAgMTAwMCIsCiAgICAgICAgImZvbnQtc2l6ZSI6ICIxLjVyZW0iLAogICAgICAgICJmb250LWNvbG9yIjogIndoaXRlIiwKICAgICAgfSwKICAgIH07CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgY29uc3QgYXR0cmlidXRlcyA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2F0dHJpYnV0ZXMvYWxsIgogICAgKTsKICAgIGNvbnN0IHNvdXJjZXNfYWxsID0gYXdhaXQgYXhpb3MuZ2V0KAogICAgICBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9nZXQvc291cmNlcy9hbGwiCiAgICApOwogICAgdmFyIHNvdXJjZU9iaiA9IHt9OwogICAgc291cmNlc19hbGxbImRhdGEiXVsic291cmNlcyJdLmZvckVhY2goKGVsZW0pID0+IHsKICAgICAgc291cmNlT2JqW2VsZW1dID0gbnVsbDsKICAgIH0pOwogICAgdGhpcy5hbGxTb3VyY2VzID0gc291cmNlT2JqOwoKICAgIHZhciBhdHRyT2JqID0ge307CiAgICBhdHRyaWJ1dGVzWyJkYXRhIl1bImF0dHJpYnV0ZXMiXS5mb3JFYWNoKChhdHRyKSA9PiB7CiAgICAgIGF0dHJPYmpbYXR0ci5uYW1lXSA9IG51bGw7CiAgICB9KTsKICAgIHRoaXMuYWxsQXR0cmlidXRlcyA9IGF0dHJPYmo7CiAgfSwKICB1cGRhdGVkKCkgewogICAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmF1dG9jb21wbGV0ZSIpOwoKICAgIE0uQXV0b2NvbXBsZXRlLmluaXQoZWxlbXMsIHsgZGF0YTogdGhpcy5hbGxBdHRyaWJ1dGVzIH0pOwogICAgdmFyIGVsZW1zX3NvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5hdXRvY29tcGxldGVfc291cmNlIik7CgogICAgTS5BdXRvY29tcGxldGUuaW5pdChlbGVtc19zb3VyY2UsIHsKICAgICAgZGF0YTogdGhpcy5hbGxTb3VyY2VzLAogICAgICBvbkF1dG9jb21wbGV0ZTogZnVuY3Rpb24gKHZhbCkgewogICAgICAgIHZhciBlbXB0eUZpZWxkcyA9IFtdOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5hdXRvY29tcGxldGVfc291cmNlIikuZm9yRWFjaCgoZWxlbSkgPT4gewogICAgICAgICAgaWYgKGVsZW0udmFsdWUgPT0gbnVsbCB8fCBlbGVtLnZhbHVlID09ICIiKSB7CiAgICAgICAgICAgIGVtcHR5RmllbGRzLnB1c2goZWxlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGVtcHR5RmllbGRzLmZvckVhY2goKGVsZW0pID0+IHsKICAgICAgICAgIGVsZW0udmFsdWUgPSB2YWw7CiAgICAgICAgfSk7CiAgICAgICAgTS51cGRhdGVUZXh0RmllbGRzKCk7CiAgICAgIH0sCiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CgoKICAgIHJlZnJlc2hBdHRyaWJ1dGVzOiBhc3luYyBmdW5jdGlvbigpewogICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2F0dHJpYnV0ZXMvYWxsIgogICAgKTsKICAgIGNvbnN0IHNvdXJjZXNfYWxsID0gYXdhaXQgYXhpb3MuZ2V0KAogICAgICBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9nZXQvc291cmNlcy9hbGwiCiAgICApOwogICAgdmFyIHNvdXJjZU9iaiA9IHt9OwogICAgc291cmNlc19hbGxbImRhdGEiXVsic291cmNlcyJdLmZvckVhY2goKGVsZW0pID0+IHsKICAgICAgc291cmNlT2JqW2VsZW1dID0gbnVsbDsKICAgIH0pOwogICAgdGhpcy5hbGxTb3VyY2VzID0gc291cmNlT2JqOwoKICAgIHZhciBhdHRyT2JqID0ge307CiAgICBhdHRyaWJ1dGVzWyJkYXRhIl1bImF0dHJpYnV0ZXMiXS5mb3JFYWNoKChhdHRyKSA9PiB7CiAgICAgIGF0dHJPYmpbYXR0ci5uYW1lXSA9IG51bGw7CiAgICB9KTsKICAgIHRoaXMuYWxsQXR0cmlidXRlcyA9IGF0dHJPYmo7CiAgICBNLnRvYXN0KHtodG1sOiAiUmVmcmVzaGVkIHZhcmlhYmxlIGF1dG9jb21wbGV0ZS4uLiJ9KTsKCiAgICB9LAogICAgYWRkTWFwcGluZzogYXN5bmMgZnVuY3Rpb24gKGF0dHIpIHsKICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF0dHIgKyAiX21hcHBpbmdfZmllbGQiKS52YWx1ZTsKICAgICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IHRhcmdldCA9PSAiIikgewogICAgICAgIE0udG9hc3QoeyBodG1sOiAiUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXQhIiB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdHRyICsgIl9zb3VyY2VfZmllbGQiKS52YWx1ZTsKCiAgICAgIGNvbnN0IG1hcHBpbmdSZXNwb25zZSA9IGF3YWl0IGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQ0xJTklDQUxVUkwgKyAiL3Bvc3QvYmFzaWMtbWFwcGluZyIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgc291cmNlOiBzb3VyY2UsCiAgICAgICAgICBzb3VyY2VfYXR0cmlidXRlOiBhdHRyLAogICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsCiAgICAgICAgfSwKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICAgIH0pOwogICAgICBpZiAobWFwcGluZ1Jlc3BvbnNlLmRhdGFbIm1lc3NhZ2UiXSA9PSAib2siKSB7CiAgICAgICAgdGhpcy5ub3RGb3VuZCA9IHRoaXMubm90Rm91bmQuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9IGF0dHIpOwogICAgICAgIE0udG9hc3QoeyBodG1sOiAiWW91IHN1Y2Nlc3NmdWxseSBtYXBwZWQ6ICIgKyBhdHRyIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF0dHIgKyAiX2ZlZWRiYWNrIikuaW5uZXJUZXh0ID0KICAgICAgICAgIG1hcHBpbmdSZXNwb25zZS5kYXRhWyJtZXNzYWdlIl07CiAgICAgIH0KICAgICAgcmV0dXJuOwogICAgfSwKICAgIGFkZGVkRmlsZTogZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmVlZGJhY2siKS5pbm5lclRleHQgPQogICAgICAgICJZb3VyIGRhdGEgaXMgZ2V0dGluZyBwcm9jZXNzZWQiOwogICAgfSwKICAgIHNldFByb2dyZXNzOiBmdW5jdGlvbiAocHJvZykgewogICAgICB0aGlzLnByb2dyZXNzID0gcHJvZzsKICAgICAgcmV0dXJuOwogICAgfSwKCiAgICBjaGVja19zdGF0dXM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJHRVQiLAogICAgICAgIHVybDogc2VsZi51cGRhdGVVcmwsCiAgICAgICAgZGF0YTogeyBfaWQ6IHNlbGYuaWQgfSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICBpZiAoZS5tZXNzYWdlICE9IG51bGwgJiYgZVsibWVzc2FnZSJdWyJzdGF0dXMiXSA9PSAiZG9uZSIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIkRvbmUiKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIG5vdEZvdW5kTGlzdCA9IGUucmVzcG9uc2VKU09OWyJtZXNzYWdlIl1bIm5vdF9mb3VuZCJdOwoKICAgICAgICAgIGlmIChlLnJlc3BvbnNlSlNPTlsibWVzc2FnZSJdWyJzdGF0dXMiXSA9PSAiZG9uZSIpIHsKICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IDEwMDsKICAgICAgICAgICAgLy8kKCIjbG9hZGVyIikuYWRkQ2xhc3MoImhpZGUiKTsKICAgICAgICAgICAgJCgiI3RvdGFsQ291bnQiKS5oaWRlKCk7CgogICAgICAgICAgICBzZWxmLm5vdEZvdW5kID0gbm90Rm91bmRMaXN0OwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmVlZGJhY2siKS5pbm5lclRleHQgPQogICAgICAgICAgICAgIGUucmVzcG9uc2VKU09OWyJtZXNzYWdlIl1bIm1lc3NhZ2UiXTsKCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwb3N0X3Byb2Nlc3NfZmVlZGJhY2siKS5pbm5lclRleHQgPQogICAgICAgICAgICAgIGUucmVzcG9uc2VKU09OWyJtZXNzYWdlIl1bIm1lc3NhZ2UiXTsKICAgICAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWxPTFMnKS5pbm5lclRleHQgPSAiSW1wb3J0ZWQgZnJvbSBPTFM6ICIgICsgZS5yZXNwb25zZUpTT05bJ21lc3NhZ2UnXVsnb2xzX2NvdW50J107CiAgICAgICAgICAgICQoIiNsb2FkZXIiKS5oaWRlKCk7CgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICoKICAgICAgICAgICAgICogQWRkIG5vdCBmb3VuZCBmZWVkIGJhY2sKICAgICAgICAgICAgICovCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLm5vdEZvdW5kID0gbm90Rm91bmRMaXN0OwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG90YWxDb3VudCIpLmlubmVyVGV4dCA9CiAgICAgICAgICAgICAgIlByb2Nlc3NpbmcgIiArCiAgICAgICAgICAgICAgZS5yZXNwb25zZUpTT05bIm1lc3NhZ2UiXVsidG90YWwiXSArCiAgICAgICAgICAgICAgIiBsaW5lcyBvZiBkYXRhLi4uIjsKICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IGUucmVzcG9uc2VKU09OWyJtZXNzYWdlIl1bImRvbmUiXTsKICAgICAgICAgICAgc2V0VGltZW91dChzZWxmLmNoZWNrX3N0YXR1cywgc2VsZi5pbnRlcnZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAogICAgdnN1Y2Nlc3M6IGZ1bmN0aW9uIChmaWxlLCByZXNwb25zZSkgewogICAgICB2YXIgdGV4dCA9ICJTdWNjZXNzZnVsbHkgdXBsb2FkZWQgZmlsZSAiICsgZmlsZS5uYW1lOwogICAgICBNLnRvYXN0KHsgaHRtbDogdGV4dCB9KTsKCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmZWVkYmFjayIpLmlubmVyVGV4dCA9IHJlc3BvbnNlWyJtZXNzYWdlIl07CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkcm9wem9uZSIpLmNsYXNzTGlzdC5hZGQoImhpZGUiKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvYWRlciIpLmNsYXNzTGlzdC5yZW1vdmUoImhpZGUiKTsKCiAgICAgIC8vdmFyIHNlbGYgPSB0aGlzOwoKICAgICAgdGhpcy5jaGVja19zdGF0dXMoKTsKICAgIH0sCiAgICB2ZXJyb3I6IGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgIHZhciB0ZXh0ID0gIkVycm9yIHdoaWxlIHVwbG9hZGluZyAiICsgZmlsZS5uYW1lOwogICAgICBNLnRvYXN0KHsgaHRtbDogdGV4dCB9KTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvYWRlciIpLmNsYXNzTGlzdC5hZGQoImhpZGUiKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZlZWRiYWNrIikuaW5uZXJUZXh0ID0KICAgICAgICAiU29tZXRoaW5nIHdlbnQgd3JvbmcuLi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlciI7CiAgICB9LAoKICAgIHNlbmRpbmdFdmVudChmaWxlLCB4aHIsIGZvcm1EYXRhKSB7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiX2lkIiwgdGhpcy5pZCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["DataUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"DataUpload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <h1>Data Upload</h1>\n    <div class=\"container center-align\">\n      <vue-dropzone\n        ref=\"myVueDropzone\"\n        id=\"dropzone\"\n        :options=\"dropzoneOptions\"\n        @vdropzone-success=\"vsuccess\"\n        @vdropzone-error=\"verror\"\n        @vdropzone-file-added=\"addedFile\"\n        @vdropzone-sending=\"sendingEvent\"\n      ></vue-dropzone>\n      <vue-ellipse-progress\n        id=\"loader\"\n        class=\"hide\"\n        :progress=\"progress\"\n        v-bind=\"options\"\n      >\n        <!--\n        <span slot=\"legend-value\" style=\"color : black\" id=\"totalCount\"></span>-->\n        <p slot=\"legend-caption\" id=\"feedback\"></p>\n      </vue-ellipse-progress>\n\n      <p id=\"totalCount\"></p>\n      \n      <p id=\"post_process_feedback\"></p>\n      <p id=\"totalOLS\"></p>\n      <div\n        id=\"not_found\"\n        v-if=\"notFound.length > 0\"\n        class=\"container\"\n        style=\"margin-bottom: 80px\"\n      >\n        <h5>Variables not automatically mapped (total: {{ this.notFound.length }}):</h5>\n       \n            <ul v-for=\"attr in notFound\" :key=\"attr\">\n              <li>{{ attr }}</li>\n\n             \n            </ul>\n\n        <a href=\"/data-steward/mapper\">Go to mapping assistant</a>\n     \n        <!--\n        <div class=\"row mt-3\">\n          <div class=\"col s1\">\n        <button class=\"btn blue-grey lighten-1\" @click=\"refreshAttributes()\">refresh targets</button>\n          </div>\n          <div class=\"col s11\"></div>\n        </div>-->\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport vue2Dropzone from \"vue2-dropzone\";\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport M from \"materialize-css\";\nimport $ from \"jquery\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    vueDropzone: vue2Dropzone,\n  },\n  data: function () {\n    return {\n      dropzoneOptions: {\n        url: process.env.VUE_APP_CLINICALURL + \"/post/basic-upload\",\n        thumbnailWidth: 150,\n        addRemoveLinks: true,\n        maxFiles: 1,\n      },\n      notFound: [],\n      allAttributes: {},\n      allSources: {},\n      id: uuidv4(),\n      updateUrl: process.env.VUE_APP_CLINICALURL + \"/get/cache\",\n      interval: 2000,\n      progress: 0,\n      options: {\n        color: \"#579fdc\",\n        \"empty-color\": \"#324c7e\",\n        size: 300,\n        thickness: 5,\n        \"empty-thickness\": 3,\n        \"line-mode\": \"out 5\",\n        animation: \"rs 700 1000\",\n        \"font-size\": \"1.5rem\",\n        \"font-color\": \"white\",\n      },\n    };\n  },\n  async created() {\n    const attributes = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/attributes/all\"\n    );\n    const sources_all = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/sources/all\"\n    );\n    var sourceObj = {};\n    sources_all[\"data\"][\"sources\"].forEach((elem) => {\n      sourceObj[elem] = null;\n    });\n    this.allSources = sourceObj;\n\n    var attrObj = {};\n    attributes[\"data\"][\"attributes\"].forEach((attr) => {\n      attrObj[attr.name] = null;\n    });\n    this.allAttributes = attrObj;\n  },\n  updated() {\n    var elems = document.querySelectorAll(\".autocomplete\");\n\n    M.Autocomplete.init(elems, { data: this.allAttributes });\n    var elems_source = document.querySelectorAll(\".autocomplete_source\");\n\n    M.Autocomplete.init(elems_source, {\n      data: this.allSources,\n      onAutocomplete: function (val) {\n        var emptyFields = [];\n        document.querySelectorAll(\".autocomplete_source\").forEach((elem) => {\n          if (elem.value == null || elem.value == \"\") {\n            emptyFields.push(elem);\n          }\n        });\n\n        emptyFields.forEach((elem) => {\n          elem.value = val;\n        });\n        M.updateTextFields();\n      },\n    });\n  },\n\n  methods: {\n\n\n    refreshAttributes: async function(){\n          const attributes = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/attributes/all\"\n    );\n    const sources_all = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/sources/all\"\n    );\n    var sourceObj = {};\n    sources_all[\"data\"][\"sources\"].forEach((elem) => {\n      sourceObj[elem] = null;\n    });\n    this.allSources = sourceObj;\n\n    var attrObj = {};\n    attributes[\"data\"][\"attributes\"].forEach((attr) => {\n      attrObj[attr.name] = null;\n    });\n    this.allAttributes = attrObj;\n    M.toast({html: \"Refreshed variable autocomplete...\"});\n\n    },\n    addMapping: async function (attr) {\n      var target = document.getElementById(attr + \"_mapping_field\").value;\n      if (target == null || target == \"\") {\n        M.toast({ html: \"Please check your input!\" });\n        return;\n      }\n\n      var source = document.getElementById(attr + \"_source_field\").value;\n\n      const mappingResponse = await axios({\n        method: \"post\",\n        url: process.env.VUE_APP_CLINICALURL + \"/post/basic-mapping\",\n        data: {\n          source: source,\n          source_attribute: attr,\n          target: target,\n        },\n        withCredentials: true,\n      });\n      if (mappingResponse.data[\"message\"] == \"ok\") {\n        this.notFound = this.notFound.filter((item) => item != attr);\n        M.toast({ html: \"You successfully mapped: \" + attr });\n      } else {\n        document.getElementById(attr + \"_feedback\").innerText =\n          mappingResponse.data[\"message\"];\n      }\n      return;\n    },\n    addedFile: function () {\n      document.getElementById(\"feedback\").innerText =\n        \"Your data is getting processed\";\n    },\n    setProgress: function (prog) {\n      this.progress = prog;\n      return;\n    },\n\n    check_status: function () {\n      var self = this;\n      $.ajax({\n        type: \"GET\",\n        url: self.updateUrl,\n        data: { _id: self.id },\n        success: function (e) {\n          console.log(e);\n          if (e.message != null && e[\"message\"][\"status\"] == \"done\") {\n            console.log(\"Done\");\n          }\n        },\n        complete: function (e) {\n          var notFoundList = e.responseJSON[\"message\"][\"not_found\"];\n\n          if (e.responseJSON[\"message\"][\"status\"] == \"done\") {\n            self.progress = 100;\n            //$(\"#loader\").addClass(\"hide\");\n            $(\"#totalCount\").hide();\n\n            self.notFound = notFoundList;\n            document.getElementById(\"feedback\").innerText =\n              e.responseJSON[\"message\"][\"message\"];\n\n            document.getElementById(\"post_process_feedback\").innerText =\n              e.responseJSON[\"message\"][\"message\"];\n            //document.getElementById('totalOLS').innerText = \"Imported from OLS: \"  + e.responseJSON['message']['ols_count'];\n            $(\"#loader\").hide();\n\n            /**\n             *\n             * Add not found feed back\n             */\n          } else {\n            self.notFound = notFoundList;\n            document.getElementById(\"totalCount\").innerText =\n              \"Processing \" +\n              e.responseJSON[\"message\"][\"total\"] +\n              \" lines of data...\";\n            self.progress = e.responseJSON[\"message\"][\"done\"];\n            setTimeout(self.check_status, self.interval);\n          }\n        },\n      });\n    },\n    vsuccess: function (file, response) {\n      var text = \"Successfully uploaded file \" + file.name;\n      M.toast({ html: text });\n\n      document.getElementById(\"feedback\").innerText = response[\"message\"];\n      document.getElementById(\"dropzone\").classList.add(\"hide\");\n      document.getElementById(\"loader\").classList.remove(\"hide\");\n\n      //var self = this;\n\n      this.check_status();\n    },\n    verror: function (file) {\n      var text = \"Error while uploading \" + file.name;\n      M.toast({ html: text });\n      document.getElementById(\"loader\").classList.add(\"hide\");\n      document.getElementById(\"feedback\").innerText =\n        \"Something went wrong... Please try again later\";\n    },\n\n    sendingEvent(file, xhr, formData) {\n      formData.append(\"_id\", this.id);\n    },\n  },\n};\n</script>\n\n<style>\n.float_bottom_right {\n  position: absolute;\n  bottom: 30px;\n  right: 30px;\n}\n\n.tap-target {\n  color: #fff;\n}\n.tap-target a {\n  color: #fff;\n  text-decoration: underline;\n}\n</style>"]}]}