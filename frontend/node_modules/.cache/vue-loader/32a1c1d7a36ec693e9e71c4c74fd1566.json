{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DownloadArea.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DownloadArea.vue","mtime":1630337919454},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheCBmcm9tICJheGlvcyI7CmNvbnN0IGF4aW9zID0gYXg7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZG93bmxvYWQiLAogIG1vdW50ZWQoKSB7CiAgICBmdW5jdGlvbiBkb3dubG9hZEZpbGUoZGF0YSwgZmlsZW5hbWUsIG1pbWUpIHsKICAgICAgLy8gSXQgaXMgbmVjZXNzYXJ5IHRvIGNyZWF0ZSBhIG5ldyBibG9iIG9iamVjdCB3aXRoIG1pbWUtdHlwZSBleHBsaWNpdGx5IHNldAogICAgICAvLyBvdGhlcndpc2Ugb25seSBDaHJvbWUgd29ya3MgbGlrZSBpdCBzaG91bGQKICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwgewogICAgICAgIHR5cGU6IG1pbWUgfHwgImFwcGxpY2F0aW9uL3JkZit4bWwiLAogICAgICB9KTsKICAgICAgaWYgKHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgLy8gSUUgZG9lc24ndCBhbGxvdyB1c2luZyBhIGJsb2Igb2JqZWN0IGRpcmVjdGx5IGFzIGxpbmsgaHJlZi4KICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciAiSFRNTDcwMDc6IE9uZSBvciBtb3JlIGJsb2IgVVJMcyB3ZXJlCiAgICAgICAgLy8gcmV2b2tlZCBieSBjbG9zaW5nIHRoZSBibG9iIGZvciB3aGljaCB0aGV5IHdlcmUgY3JlYXRlZC4KICAgICAgICAvLyBUaGVzZSBVUkxzIHdpbGwgbm8gbG9uZ2VyIHJlc29sdmUgYXMgdGhlIGRhdGEgYmFja2luZwogICAgICAgIC8vIHRoZSBVUkwgaGFzIGJlZW4gZnJlZWQuIgogICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlbmFtZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIE90aGVyIGJyb3dzZXJzCiAgICAgIC8vIENyZWF0ZSBhIGxpbmsgcG9pbnRpbmcgdG8gdGhlIE9iamVjdFVSTCBjb250YWluaW5nIHRoZSBibG9iCiAgICAgIGNvbnN0IGJsb2JVUkwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgY29uc3QgdGVtcExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIHRlbXBMaW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIHRlbXBMaW5rLmhyZWYgPSBibG9iVVJMOwogICAgICB0ZW1wTGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgZmlsZW5hbWUpOwogICAgICAvLyBTYWZhcmkgdGhpbmtzIF9ibGFuayBhbmNob3IgYXJlIHBvcCB1cHMuIFdlIG9ubHkgd2FudCB0byBzZXQgX2JsYW5rCiAgICAgIC8vIHRhcmdldCBpZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBIVE1MNSBkb3dubG9hZCBhdHRyaWJ1dGUuCiAgICAgIC8vIFRoaXMgYWxsb3dzIHlvdSB0byBkb3dubG9hZCBmaWxlcyBpbiBkZXNrdG9wIHNhZmFyaSBpZiBwb3AgdXAgYmxvY2tpbmcKICAgICAgLy8gaXMgZW5hYmxlZC4KICAgICAgaWYgKHR5cGVvZiB0ZW1wTGluay5kb3dubG9hZCA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB0ZW1wTGluay5zZXRBdHRyaWJ1dGUoInRhcmdldCIsICJfYmxhbmsiKTsKICAgICAgfQogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlbXBMaW5rKTsKICAgICAgdGVtcExpbmsuY2xpY2soKTsKICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZW1wTGluayk7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vIEZvciBGaXJlZm94IGl0IGlzIG5lY2Vzc2FyeSB0byBkZWxheSByZXZva2luZyB0aGUgT2JqZWN0VVJMCiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVSTCk7CiAgICAgIH0sIDEwMCk7CiAgICB9CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG93bmxvYWRfYnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93LmxvY2F0aW9uID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2RhdGFtb2RlbC1maWxlIjsKICAgIH07CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG93bmxvYWRfYnRuX293bCIpLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluX2NvbnRhaW5lciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxvYWRpbmciKVswXS5zdHlsZS5kaXNwbGF5ID0KICAgICAgICAiaW5saW5lLWZsZXgiOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGVscGVyX3RleHQiKS5pbm5lckhUTUwgPQogICAgICAgICJZb3VyIE9XTCBPbnRvbG9neSBpcyBnZXR0aW5nIGFzc2VtYmxlZC4uLiI7CiAgICAgIGNvbnN0IGZpbGVSZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgICBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9nZXQvb3dsIgogICAgICApOwogICAgICAvL3ZhciBmID0gbmV3IEJsb2IoW2ZpbGVSZXNwb25zZS5kYXRhXSk7CiAgICAgIC8vY29uc29sZS5sb2coZik7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxvYWRpbmciKVswXS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGVscGVyX3RleHQiKS5pbm5lckhUTUwgPQogICAgICAgICJDQ0RNIGlzIHJlYWR5IHRvIGRvd25sb2FkISI7CiAgICAgIGRvd25sb2FkRmlsZShmaWxlUmVzcG9uc2UuZGF0YSwgIkNDRE0ub3dsIik7CiAgICB9OwogIH0sCn07Cg=="},{"version":3,"sources":["DownloadArea.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DownloadArea.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"container\" id=\"main_container\">\n      \n      <div class=\"row\">\n        <h1>Datamodel Download</h1>\n        <button class=\"btn blue-grey lighten-1\" id=\"download_btn\">\n          Download Datamodel as .xlsx\n        </button>\n      </div>\n      <div class=\"row\">\n        <h1>OWL Download</h1>\n        <button class=\"btn blue-grey lighten-1\" id=\"download_btn_owl\">\n          Download CCDM Ontology\n        </button>\n      </div>\n    </div>\n    <div class=\"loading center-align\">\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n    </div>\n    <h5 id=\"helper_text\"></h5>\n    \n  </div>\n</template>\n<script>\nimport ax from \"axios\";\nconst axios = ax;\nexport default {\n  name: \"download\",\n  mounted() {\n    function downloadFile(data, filename, mime) {\n      // It is necessary to create a new blob object with mime-type explicitly set\n      // otherwise only Chrome works like it should\n      const blob = new Blob([data], {\n        type: mime || \"application/rdf+xml\",\n      });\n      if (typeof window.navigator.msSaveBlob !== \"undefined\") {\n        // IE doesn't allow using a blob object directly as link href.\n        // Workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n        return;\n      }\n      // Other browsers\n      // Create a link pointing to the ObjectURL containing the blob\n      const blobURL = window.URL.createObjectURL(blob);\n      const tempLink = document.createElement(\"a\");\n      tempLink.style.display = \"none\";\n      tempLink.href = blobURL;\n      tempLink.setAttribute(\"download\", filename);\n      // Safari thinks _blank anchor are pop ups. We only want to set _blank\n      // target if the browser does not support the HTML5 download attribute.\n      // This allows you to download files in desktop safari if pop up blocking\n      // is enabled.\n      if (typeof tempLink.download === \"undefined\") {\n        tempLink.setAttribute(\"target\", \"_blank\");\n      }\n      document.body.appendChild(tempLink);\n      tempLink.click();\n      document.body.removeChild(tempLink);\n      setTimeout(() => {\n        // For Firefox it is necessary to delay revoking the ObjectURL\n        window.URL.revokeObjectURL(blobURL);\n      }, 100);\n    }\n    document.getElementById(\"download_btn\").onclick = function () {\n      window.location = process.env.VUE_APP_CLINICALURL + \"/get/datamodel-file\";\n    };\n    document.getElementById(\"download_btn_owl\").onclick = async function () {\n      document.getElementById(\"main_container\").style.display = \"none\";\n      document.getElementsByClassName(\"loading\")[0].style.display =\n        \"inline-flex\";\n      document.getElementById(\"helper_text\").innerHTML =\n        \"Your OWL Ontology is getting assembled...\";\n      const fileResponse = await axios.get(\n        process.env.VUE_APP_CLINICALURL + \"/get/owl\"\n      );\n      //var f = new Blob([fileResponse.data]);\n      //console.log(f);\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\n      document.getElementById(\"helper_text\").innerHTML =\n        \"CCDM is ready to download!\";\n      downloadFile(fileResponse.data, \"CCDM.owl\");\n    };\n  },\n};\n</script>\n<style scoped>\n.loading {\n  margin-top: 33vh;\n  display: none;\n}\n.loading .dot {\n  position: relative;\n  width: 2em;\n  height: 2em;\n  margin: 0.8em;\n  border-radius: 50%;\n}\n.loading .dot::before {\n  position: absolute;\n  content: \"\";\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  border-radius: inherit;\n  animation: wave 2s ease-out infinite;\n}\n.loading .dot:nth-child(1) {\n  background: #c3a3d6;\n}\n.loading .dot:nth-child(1)::before {\n  left: 0;\n  animation-delay: 0.2s;\n}\n.loading .dot:nth-child(2) {\n  background: #b48dcc;\n}\n.loading .dot:nth-child(2)::before {\n  left: 0;\n  animation-delay: 0.4s;\n}\n.loading .dot:nth-child(3) {\n  background: #965fb8;\n}\n.loading .dot:nth-child(3)::before {\n  left: 0;\n  animation-delay: 0.6s;\n}\n.loading .dot:nth-child(4) {\n  background: #8748ae;\n}\n.loading .dot:nth-child(4)::before {\n  left: 0;\n  animation-delay: 0.8s;\n}\n.loading .dot:nth-child(5) {\n  background: #6a1b9a;\n}\n.loading .dot:nth-child(5)::before {\n  left: 0;\n  animation-delay: 1s;\n}\n\n@keyframes wave {\n  50%,\n  75% {\n    transform: scale(2.5);\n  }\n  80%,\n  100% {\n    opacity: 0;\n  }\n}\n</style>"]}]}