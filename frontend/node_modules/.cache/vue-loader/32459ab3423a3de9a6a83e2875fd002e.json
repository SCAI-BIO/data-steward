{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataMapper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataMapper.vue","mtime":1626075497077},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEF0b21TcGlubmVyIH0gZnJvbSAiZXBpYy1zcGlubmVycyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBEYXRhVGFibGUgZnJvbSAidnVlLW1hdGVyaWFsaXplLWRhdGF0YWJsZSI7CmltcG9ydCBNIGZyb20gIm1hdGVyaWFsaXplLWNzcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgZGF0YXRhYmxlOiBEYXRhVGFibGUsCiAgICBhdG9tc3Bpbm5lcjogQXRvbVNwaW5uZXIsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVuTW9kYWxUUzogIiIsCiAgICAgIGhlbHBUZXh0OgogICAgICAgICJUaGlzIGFzc2lzdGFudCBwcm92aWRlcyBoZWxwIGZvciBtYXBwaW5nIHZhcmlhYWJsZXMuIFRoZSBsaXN0IGJlbG93IHByb3ZpZGVzIGFsbCB2YXJpYWJsZXMgaW4gdGhlIGRhdGFzZXQgdXBsb2FkZWQsIHRoYXQgeW91bGQgbm90IGJlIGZvdW5kIGluIHRoZSBjdXJyZW50IHN5c3RlbSBvciB0aGVyZSB3YXMgbm8gc3VpdGFibGUgbWFwcGluZyBvbnRvIGEgdmFyaWFibGUgY3VycmVudGx5IGluIHRoZSBzeXN0ZW0uIFRoZSBhc3Npc3RhbnQgcHJvdmlkZXMgYSBzdWdnZXN0aW9uIHN5c3RlbSBhbmQgYmFja3VwIHN1cHBvcnQgZnJvbSBPTFMgKE9udG9sb2d5IExvb2t1cCBTeXN0ZW0pLiBFbmFibGUgdGhlIHR3byBjaGVja2JveGVzIGJlbG93IHRvIGFjdGl2YXRlIHRoZXNlIGZlYXR1cmVzLiBUcnkgYW5kIHByZWZmZXJlZGx5IGNob29zZSB0aG9zZSB2YXJpYWJsZXMgdGhhdCBhcmUgYWxyZWFkeSBpbiB0aGUgc3lzdGVtIGFuZCBpZiBub3RoaW5nIGZpdHMgeW91ciBkYXRhIGltcG9ydCBvbmUgZnJvbSBPTFMuIElmIHRoZXJlIGlzIG5vdCBzdWl0YWJsZSB2YXJpYWJsZSBpbiBPTFMgdGhlbiB5b3UgY2FuIGdvIHRvIHRoZSBNb2RlbCBXaXphcmQgYW5kIGFkZCBhIHZhcmlhYmxlIGJ5IGhhbmQuIiwKICAgICAgYXR0ck9iajoge30sCiAgICAgIG9sc0F1dG9jb21wbGV0ZToge30sCiAgICAgIHNvdXJjZU9iajoge30sCiAgICAgIGhhc19zdWdnZXN0aW9uOiBbXSwKICAgICAgbW9kYWw6IHsKICAgICAgICBleHRWYXI6ICIiLAogICAgICAgIGludFZhcjogIiIsCiAgICAgICAgc291cmNlOiAiIiwKICAgICAgICBvbHNWYXI6ICIiLAogICAgICB9LAogICAgICBoYXNTdWdnZXN0aW9uT2xzOiBbXSwKCiAgICAgIG1ha2VTdWdnZXN0aW9uOiBmYWxzZSwKICAgICAgaW5jbHVkZU9MUzogZmFsc2UsCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7IGxhYmVsOiAiU291cmNlIiwgZmllbGQ6ICJzb3VyY2UiIH0sCiAgICAgICAgeyBsYWJlbDogIkV4dGVybmFsIFZhcmlhYmxlIiwgZmllbGQ6ICJleHRWYXIiIH0sCiAgICAgICAgeyBsYWJlbDogIkludGVybmFsIFZhcmlhYmxlIiwgZmllbGQ6ICJpbnRWYXIiLCBodG1sOiB0cnVlIH0sCiAgICAgIF0sCiAgICAgIHJvd3M6IFtdLAogICAgfTsKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2FsbC1hdHRyLXVubWFwcGVkIgogICAgKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YVsiZGF0YXBvaW50cyJdLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMucm93cy5wdXNoKHsKICAgICAgICBzb3VyY2U6ICIiLAogICAgICAgIGV4dFZhcjogcmVzcG9uc2UuZGF0YVsiZGF0YXBvaW50cyJdW2ldLAogICAgICAgIGludFZhcjogIiIsCiAgICAgICAgb2xzVmFyOiAiIiwKICAgICAgfSk7CiAgICB9CiAgICBhd2FpdCB0aGlzLmxvYWRBdHRyQW5kU291cmNlRnJvbUJhY2tlbmQoKTsKICB9LAoKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIubW9kYWwiKTsKICAgICAgTS5Nb2RhbC5pbml0KGVsZW1zKTsKICAgICAgTS5Ub29sdGlwLmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnRvb2x0aXBwZWQiKSk7CiAgICB9KTsKICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMzAwKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluX2NvbnRhaW5lciIpLmNsYXNzTGlzdC5yZW1vdmUoImNvbnRhaW5lciIpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5jbGFzc0xpc3QuYWRkKCJweC00Iik7CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5jbGFzc0xpc3QuYWRkKCJjb250YWluZXIiKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1haW5fY29udGFpbmVyIikuY2xhc3NMaXN0LnJlbW92ZSgicHgtNCIpOwogICAgfQogICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gMTMwMCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluX2NvbnRhaW5lciIpLmNsYXNzTGlzdC5yZW1vdmUoImNvbnRhaW5lciIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluX2NvbnRhaW5lciIpLmNsYXNzTGlzdC5hZGQoInB4LTQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5jbGFzc0xpc3QuYWRkKCJjb250YWluZXIiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5jbGFzc0xpc3QucmVtb3ZlKCJweC00Iik7CiAgICAgIH0KICAgIH07CiAgfSwKCiAgdXBkYXRlZDogZnVuY3Rpb24gKCkgewogICAgLy8gYXV0b2NvbXBsZXRlCiAgICBjb25zb2xlLmRlYnVnKCJMb2FkaW5nIGF1dG9jb21wbGV0ZS4uLiIpOwogICAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmF1dG9jb21wbGV0ZSIpOwoKICAgIE0uQXV0b2NvbXBsZXRlLmluaXQoZWxlbXMsIHsgZGF0YTogdGhpcy5hdHRyT2JqIH0pOwoKICAgIHZhciBlbGVtc19zb3VyY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYXV0b2NvbXBsZXRlX3NvdXJjZSIpOwogICAgTS5BdXRvY29tcGxldGUuaW5pdChlbGVtc19zb3VyY2UsIHsgZGF0YTogdGhpcy5zb3VyY2VPYmogfSk7CgogICAgdmFyIGVsZW1zX29scyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5vbHNfYXV0b2NvbXBsZXRlIik7CiAgICBNLkF1dG9jb21wbGV0ZS5pbml0KGVsZW1zX29scywgeyBkYXRhOiB0aGlzLm9sc0F1dG9jb21wbGV0ZSB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjaGVja0ZvclNpbmdsZVNvdXJjZTogZnVuY3Rpb24gKCkgewogICAgICBmdW5jdGlvbiBvbmx5VW5pcXVlKHZhbHVlLCBpbmRleCwgc2VsZikgewogICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDsKICAgICAgfQogICAgICB2YXIgc291cmNlcyA9IFtdOwogICAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93KSA9PiB7CiAgICAgICAgc291cmNlcy5wdXNoKHJvdy5zb3VyY2UpOwogICAgICB9KTsKICAgICAgc291cmNlcyA9IHNvdXJjZXMuZmlsdGVyKChzcmMpID0+IHNyYyAhPSAiIik7CiAgICAgIHZhciBmaWx0ZXJlZFNvdXJjZXMgPSBzb3VyY2VzLmZpbHRlcihvbmx5VW5pcXVlKTsKCiAgICAgIHJldHVybiBmaWx0ZXJlZFNvdXJjZXMubGVuZ3RoID09IDE7CiAgICB9LAogICAgZmlsbFNvdXJjZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5kZWJ1ZygiZmlsbGluZyBzb3VyY2VzLi4uIik7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnbG9iYWwtbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIGlmICh0aGlzLmNoZWNrRm9yU2luZ2xlU291cmNlKCkpIHsKICAgICAgICB2YXIgc3JjID0gdGhpcy5yb3dzLmZpbHRlcigocm93KSA9PiByb3cuc291cmNlICE9ICIiKVswXS5zb3VyY2U7CiAgICAgICAgdGhpcy5yb3dzLmZvckVhY2goKHJvdykgPT4gKHJvdy5zb3VyY2UgPSBzcmMpKTsKICAgICAgICBNLnRvYXN0KHsgaHRtbDogYFN1Y2Nlc3NmdWxseSBmaWxsZWQgc291cmNlcyB3aXRoICR7c3JjfWAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdsb2JhbC1sb2FkZXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZGVidWcoIlNvdXJjZXMgbm90IHVuaXF1ZSIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnbG9iYWwtbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICBjaGVja1ZhbGlkOiAobGl0ZXJhbCkgPT4gewogICAgICBpZiAobGl0ZXJhbCA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmIChsaXRlcmFsID09ICIiKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIGFsdGVySW50VmFyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByb3cgPSB0aGlzLnJvd3MuZmluZCgoZWxlbSkgPT4gZWxlbS5leHRWYXIgPT0gdGhpcy5tb2RhbC5leHRWYXIpOwogICAgICByb3cuaW50VmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImludFZhck1vZGFsIikudmFsdWU7CiAgICAgIHRoaXMubW9kYWwuaW50VmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImludFZhck1vZGFsIikudmFsdWU7CiAgICAgIHJldHVybjsKICAgIH0sCiAgICBhbHRlck9MU1ZhcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgcm93ID0gdGhpcy5yb3dzLmZpbmQoKGVsZW0pID0+IGVsZW0uZXh0VmFyID09IHRoaXMubW9kYWwuZXh0VmFyKTsKICAgICAgcm93Lm9sc1ZhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbHNWYXJNb2RhbCIpLnZhbHVlOwogICAgICB0aGlzLm1vZGFsLm9sc1ZhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbHNWYXJNb2RhbCIpLnZhbHVlOwogICAgICByZXR1cm47CiAgICB9LAogICAgYWx0ZXJTb3VyY2U6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHJvdyA9IHRoaXMucm93cy5maW5kKChlbGVtKSA9PiBlbGVtLmV4dFZhciA9PSB0aGlzLm1vZGFsLmV4dFZhcik7CiAgICAgIHJvdy5zb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic291cmNlTW9kYWwiKS52YWx1ZTsKICAgICAgdGhpcy5tb2RhbC5zb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic291cmNlTW9kYWwiKS52YWx1ZTsKICAgICAgcmV0dXJuOwogICAgfSwKICAgIGFsdGVyVHJhbnM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHJvdyA9IHRoaXMucm93cy5maW5kKChlbGVtKSA9PiBlbGVtLmV4dFZhciA9PSB0aGlzLm1vZGFsLmV4dFZhcik7CiAgICAgIHJvdy50cmFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0cmFuc01vZGFsIikudmFsdWU7CiAgICAgIHJldHVybjsKICAgIH0sCgogICAgc3VibWl0TWFwcGluZzogYXN5bmMgZnVuY3Rpb24gKHByb3BzLCBlKSB7CiAgICAgIHRoaXMub3Blbk1vZGFsVFMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gZG9lcyBub3QgcHJldmVudCBtb2RhbCBmcm9tIG9wZW5pbmcuLi4KICAgICAgdmFyIGV4dFZhciA9IHByb3BzLmV4dFZhcjsKICAgICAgdmFyIGludFZhciA9IHByb3BzLmludFZhcjsKICAgICAgdmFyIHNyYyA9IHByb3BzLnNvdXJjZTsKICAgICAgdmFyIG9sc1ZhciA9IHByb3BzLm9sc1ZhcjsKCiAgICAgIC8vY29uc29sZS5sb2coZXh0VmFyLGludFZhciwgc3JjKTsKICAgICAgLyp2YXIgdHJhbnMgPSBwcm9wcy50cmFuczsqLwogICAgICBpZiAoCiAgICAgICAgKHRoaXMuY2hlY2tWYWxpZChleHRWYXIpICYmCiAgICAgICAgICB0aGlzLmNoZWNrVmFsaWQoaW50VmFyKSAmJgogICAgICAgICAgdGhpcy5jaGVja1ZhbGlkKHNyYykgJiYKICAgICAgICAgICF0aGlzLmNoZWNrVmFsaWQob2xzVmFyKSkgfHwKICAgICAgICAodGhpcy5jaGVja1ZhbGlkKGV4dFZhcikgJiYKICAgICAgICAgICF0aGlzLmNoZWNrVmFsaWQoaW50VmFyKSAmJgogICAgICAgICAgdGhpcy5jaGVja1ZhbGlkKHNyYykgJiYKICAgICAgICAgIHRoaXMuY2hlY2tWYWxpZChvbHNWYXIpKQogICAgICAgIC8qIHRoaXMuY2hlY2tWYWxpZCh0cmFucykgdGhpcyBpcyBtYXliZSBvcHRpb25hbCAqLwogICAgICApIHsKICAgICAgICAvLyBtYXBwaW5nCiAgICAgICAgaWYgKHRoaXMuY2hlY2tWYWxpZChvbHNWYXIpKSB7CiAgICAgICAgICBpbnRWYXIgPSBvbHNWYXI7CiAgICAgICAgfQogICAgICAgIGNvbnN0IG1hcHBpbmdSZXNwb25zZSA9IGF3YWl0IGF4aW9zKHsKICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9wb3N0L2Jhc2ljLW1hcHBpbmciLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBzb3VyY2U6IHNyYywKICAgICAgICAgICAgc291cmNlX2F0dHJpYnV0ZTogZXh0VmFyLAogICAgICAgICAgICB0YXJnZXQ6IGludFZhciwKICAgICAgICAgIH0sCiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICAgICAgfSk7CiAgICAgICAgLy9jb25zb2xlLmxvZyhtYXBwaW5nUmVzcG9uc2UpOwogICAgICAgIGlmIChtYXBwaW5nUmVzcG9uc2UuZGF0YVsibWVzc2FnZSJdID09ICJvayIpIHsKICAgICAgICAgIHRoaXMucm93cyA9IHRoaXMucm93cy5maWx0ZXIoKGVsZW0pID0+IGVsZW0uZXh0VmFyICE9IGV4dFZhcik7IC8vIHJlbW92ZSB0aGUgcm93IGZyb20gdGhlIHRhYmxlCiAgICAgICAgICBNLnRvYXN0KHsgaHRtbDogIllvdSBzdWNjZXNzZnVsbHkgbWFwcGVkOiAiICsgZXh0VmFyIH0pOwogICAgICAgICAgaWYgKGludFZhci5zcGxpdCgifCIpLmxlbmd0aCA+IDIpIHsKICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgaHRtbDoKICAgICAgICAgICAgICAgICJZb3Ugc3VjY2Vzc2Z1bGx5IGFkZGVkIHRlcm0gZnJvbSBPTFM6ICIgKyBleHRWYXIuc3BsaXQoInwiKVswXSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlcnJvck1lc3NhZ2VUb3AiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlcnJvclRleHQiKS5pbm5lclRleHQgPQogICAgICAgICAgICBtYXBwaW5nUmVzcG9uc2UuZGF0YVsibWVzc2FnZSJdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBNLnRvYXN0KHsgaHRtbDogIlBsZWFzZSBjaGVjayB5b3VyIGlucHV0IiB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCgogICAgY2xvc2VFcnJvcjogZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3JNZXNzYWdlVG9wIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0sCiAgICBvblJvd0NsaWNrOiBhc3luYyBmdW5jdGlvbiAocm93KSB7CiAgICAgIHZhciB0cyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICBpZiAodHMgLSB0aGlzLm9wZW5Nb2RhbFRTIDwgMTAwMCkgewogICAgICAgIC8vIHByZXZlbnQgcm93IGNsaWNrIHdoZW4gc3VibWl0IGlzIGludGVuZGVkIEBmdXR1cmVfcGhpbGlwcCA6IGZlZWwgZnJlZSB0byBpbXBsZW1lbnQgYmV0dGVyICEKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZXh0cmFjdENvbnRlbnQocykgewogICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgIHNwYW4uaW5uZXJIVE1MID0gczsKICAgICAgICByZXR1cm4gc3Bhbi50ZXh0Q29udGVudCB8fCBzcGFuLmlubmVyVGV4dDsKICAgICAgfQoKICAgICAgLy8gc2V0dGluZyBkYXRhIHRvIHJlbmRlciBpdCBpbnRvIHRoZSBtb2RlbCBib2R5CiAgICAgIHRoaXMubW9kYWwuZXh0VmFyID0gcm93LmV4dFZhcjsKICAgICAgdGhpcy5tb2RhbC5pbnRWYXIgPSBleHRyYWN0Q29udGVudChyb3cuaW50VmFyKTsKICAgICAgdGhpcy5tb2RhbC5zb3VyY2UgPSByb3cuc291cmNlOwogICAgICB0aGlzLm1vZGFsLm9sc1ZhciA9IHJvdy5vbHNWYXI7CgogICAgICB0aGlzLm9sc0F1dG9jb21wbGV0ZSA9IHt9OwogICAgICAvLyBvcGVuIG1vZGFsCiAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLm1vZGFsIilbMF07CiAgICAgIHZhciBpbnN0YW5jZSA9IE0uTW9kYWwuZ2V0SW5zdGFuY2UoZWxlbSk7CiAgICAgIGF3YWl0IGluc3RhbmNlLm9wZW4oKTsKICAgICAgTS51cGRhdGVUZXh0RmllbGRzKCk7CiAgICB9LAoKICAgIGFkZFN1Z2dlc3Rpb25zOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb3dzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMucm93c1tpXS5pbnRWYXIgPT09ICIiKSB7CiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArCiAgICAgICAgICAgICAgIi9nZXQvbmVhcmVzdC1uZWlnaGJvcj9hdHRyaWJ1dGU9IiArCiAgICAgICAgICAgICAgdGhpcy5yb3dzW2ldLmV4dFZhciArCiAgICAgICAgICAgICAgIiZvbHM9IiArCiAgICAgICAgICAgICAgdGhpcy5pbmNsdWRlT0xTCiAgICAgICAgICApOwogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbImNhbmRpZGF0ZSJdICE9ICItLW5vLWNhbmRpZGF0ZS0tIikgewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YVsiY2FuZGlkYXRlIl0uc3BsaXQoInwiKS5sZW5ndGggPiAyKSB7CiAgICAgICAgICAgICAgLy8gT0xTIFZBUgogICAgICAgICAgICAgIHRoaXMucm93c1tpXS5vbHNWYXIgPSByZXNwb25zZS5kYXRhWyJjYW5kaWRhdGUiXTsKCiAgICAgICAgICAgICAgdGhpcy5oYXNTdWdnZXN0aW9uT2xzLnB1c2godGhpcy5yb3dzW2ldLm9sc1Zhcik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gVmFyIGZyb20gYmFja2VuZAoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YVsiZGlzdGFuY2UiXSA+PSAwLjgpIHsKICAgICAgICAgICAgICAgIHRoaXMucm93c1tpXS5pbnRWYXIgPQogICAgICAgICAgICAgICAgICAiPHNwYW4gY2xhc3M9J2JhZGdlIGJsdWUnIHN0eWxlPSdjb2xvcjogd2hpdGUnPiIgKwogICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhWyJjYW5kaWRhdGUiXSArCiAgICAgICAgICAgICAgICAgICI8L3NwYW4+IjsKICAgICAgICAgICAgICAgIC8vdGhpcy5yb3dzW2ldLnN1Z2dlc3Rpb25EaXN0YW5jZSA9ICAiPHNwYW4gY2xhc3M9J2JhZGdlIGJsdWUnPiA8L3NwYW4+IjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5yb3dzW2ldLmludFZhciA9CiAgICAgICAgICAgICAgICAgICI8c3BhbiBjbGFzcz0nYmFkZ2Ugb3JhbmdlJyBzdHlsZT0nY29sb3I6IHdoaXRlJz4iICsKICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YVsiY2FuZGlkYXRlIl0gKwogICAgICAgICAgICAgICAgICAiPC9zcGFuPiI7CiAgICAgICAgICAgICAgICAvL3RoaXMucm93c1tpXS5zdWdnZXN0aW9uRGlzdGFuY2UgPSAiPHNwYW4gY2xhc3M9J2JhZGdlIG9yYW5nZSc+IDwvc3Bhbj4iOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmhhc19zdWdnZXN0aW9uLnB1c2godGhpcy5yb3dzW2ldLmV4dFZhcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVTdWdnZXN0aW9uczogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJvd3MKICAgICAgICAuZmlsdGVyKChyb3cpID0+IHRoaXMuaGFzX3N1Z2dlc3Rpb24uaW5jbHVkZXMocm93LmV4dFZhcikpCiAgICAgICAgLmZvckVhY2goKHJvdykgPT4gewogICAgICAgICAgcm93LmludFZhciA9ICIiOwogICAgICAgIH0pOwogICAgICB0aGlzLmhhc19zdWdnZXN0aW9uID0gW107CiAgICAgIHRoaXMucm93cwogICAgICAgIC5maWx0ZXIoKHJvdykgPT4gdGhpcy5oYXNTdWdnZXN0aW9uT2xzLmluY2x1ZGVzKHJvdy5vbHNWYXIpKQogICAgICAgIC5mb3JFYWNoKChyb3cpID0+IHsKICAgICAgICAgIHJvdy5vbHNWYXIgPSAiIjsKICAgICAgICB9KTsKICAgICAgdGhpcy5oYXNTdWdnZXN0aW9uT2xzID0gW107CiAgICB9LAogICAgYWx0ZXJTdWdnZXN0aW9uczogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2xvYmFsLWxvYWRlciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICBpZiAodGhpcy5tYWtlU3VnZ2VzdGlvbikgewogICAgICAgIHRoaXMubWFrZVN1Z2dlc3Rpb24gPSBmYWxzZTsKICAgICAgICAvLyB0aGlzLmNvbHVtbnMuc3BsaWNlKAogICAgICAgIC8vICAgdGhpcy5jb2x1bW5zLmluZGV4T2YoewogICAgICAgIC8vICAgICBsYWJlbDogIlN1Z2dlc3Rpb24iLAogICAgICAgIC8vICAgICBmaWVsZDogInN1Z2dlc3Rpb25EaXN0YW5jZSIsCiAgICAgICAgLy8gICB9KSwKICAgICAgICAvLyAgIDEKICAgICAgICAvLyApOwogICAgICAgIHRoaXMucmVtb3ZlU3VnZ2VzdGlvbnMoKTsKICAgICAgICBNLnRvYXN0KHsgaHRtbDogIlN1Z2dlc3Rpb25zIGRpc2FibGVkIiB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1ha2VTdWdnZXN0aW9uID0gdHJ1ZTsKICAgICAgICAvL3RoaXMuY29sdW1ucy5wdXNoKHsgbGFiZWw6ICJTdWdnZXN0aW9uIiwgZmllbGQ6ICJzdWdnZXN0aW9uRGlzdGFuY2UiICwgaHRtbDogdHJ1ZX0pOwogICAgICAgIE0udG9hc3QoeyBodG1sOiAiU2VhcmNoaW5nIGZvciBzdWdnZXN0aW9ucy4uLiIgfSk7CiAgICAgICAgYXdhaXQgdGhpcy5hZGRTdWdnZXN0aW9ucygpOwogICAgICAgIE0udG9hc3QoeyBodG1sOiAiU3VnZ2VzdGlvbnMgYWRkZWQgdG8gdGFibGUhIiB9KTsKICAgICAgfQogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2xvYmFsLWxvYWRlciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9LAogICAgYWx0ZXJPTFM6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdsb2JhbC1sb2FkZXIiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgaWYgKHRoaXMuaW5jbHVkZU9MUykgewogICAgICAgIC8vYXdhaXQgdGhpcy5yZW1vdmVPTFNmcm9tQXV0b2NvbXBsZXRlKCk7CiAgICAgICAgdGhpcy5jb2x1bW5zLnNwbGljZSgKICAgICAgICAgIHRoaXMuY29sdW1ucy5pbmRleE9mKHsgbGFiZWw6ICJPTFMgVmFyaWFibGUiLCBmaWVsZDogIm9sc1ZhciIgfSksCiAgICAgICAgICAxCiAgICAgICAgKTsKCiAgICAgICAgdGhpcy5yb3dzCiAgICAgICAgICAuZmlsdGVyKChyb3cpID0+IHRoaXMuaGFzU3VnZ2VzdGlvbk9scy5pbmNsdWRlcyhyb3cub2xzVmFyKSkKICAgICAgICAgIC5mb3JFYWNoKChyb3cpID0+IHsKICAgICAgICAgICAgcm93Lm9sc1ZhciA9ICIiOwogICAgICAgICAgfSk7CiAgICAgICAgdGhpcy5oYXNTdWdnZXN0aW9uT2xzID0gW107CiAgICAgICAgdGhpcy5pbmNsdWRlT0xTID0gZmFsc2U7CiAgICAgICAgTS50b2FzdCh7IGh0bWw6ICJPTFMgc2VhcmNoIGRpc2FibGVkIiB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL2F3YWl0IHRoaXMuYWRkT0xTdG9BdXRvY29tcGxldGUoKTsKICAgICAgICB0aGlzLmNvbHVtbnMucHVzaCh7IGxhYmVsOiAiT0xTIFZhcmlhYmxlIiwgZmllbGQ6ICJvbHNWYXIiIH0pOwogICAgICAgIHRoaXMuaW5jbHVkZU9MUyA9IHRydWU7CiAgICAgICAgaWYgKHRoaXMubWFrZVN1Z2dlc3Rpb24pIHsKICAgICAgICAgIGF3YWl0IHRoaXMuYWRkU3VnZ2VzdGlvbnMoKTsKICAgICAgICB9CiAgICAgICAgTS50b2FzdCh7IGh0bWw6ICJPTFMgc2VhcmNoIGVuYWJsZWQiIH0pOwogICAgICB9CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnbG9iYWwtbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0sCiAgICBhZGRPTFN0b0F1dG9jb21wbGV0ZTogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAvKioKICAgICAgICogCiAgICAgICBVc2UgdGhpcyBpbiBjYXNlIENPUlMgZmFpbHMKICAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJywKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgIH0KICAgICovCiAgICAgIHZhciBpbnB1dEVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib2xzVmFyTW9kYWwiKTsKICAgICAgdmFyIHRlcm0gPSBpbnB1dEVsZW0udmFsdWU7CgogICAgICB2YXIgYWRkVG9BdXRvY29tcGxldGUgPSB7fTsKCiAgICAgIGNvbnN0IG9sc1Jlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KAogICAgICAgIHByb2Nlc3MuZW52LlZVRV9BUFBfT0xTVVJMICsgYGFwaS9zZWxlY3Q/cT0ke3Rlcm19JnJvd3M9MTBgCiAgICAgICk7CiAgICAgIHZhciByZXNwb25zZU9iaiA9IG9sc1Jlc3BvbnNlLmRhdGEucmVzcG9uc2UuZG9jczsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCByZXNwb25zZU9iai5sZW5ndGg7IGsrKykgewogICAgICAgIGlmICgKICAgICAgICAgIHRoaXMucm93cy5maWx0ZXIoKHJvdykgPT4gewogICAgICAgICAgICByb3cuaW50VmFyID09PSByZXNwb25zZU9ialtrXVsibGFiZWwiXTsKICAgICAgICAgIH0pLmxlbmd0aCA9PSAwCiAgICAgICAgKSB7CiAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCB0aGlzIGlzIG5vdCBhbHJlYWR5IGluIHRoZSBiYWNrZW5kCiAgICAgICAgICBhZGRUb0F1dG9jb21wbGV0ZVsKICAgICAgICAgICAgcmVzcG9uc2VPYmpba11bImxhYmVsIl0gKwogICAgICAgICAgICAgICJ8IiArCiAgICAgICAgICAgICAgcmVzcG9uc2VPYmpba11bIm9udG9sb2d5X25hbWUiXSArCiAgICAgICAgICAgICAgInwiICsKICAgICAgICAgICAgICByZXNwb25zZU9ialtrXVsiaXJpIl0KICAgICAgICAgIF0gPSBudWxsOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyBhZGQgdGhlIHJlc3VsdHMgdG8gYXV0b2NvbXBsZXRlCiAgICAgIHRoaXMub2xzQXV0b2NvbXBsZXRlID0gYWRkVG9BdXRvY29tcGxldGU7CiAgICAgIHZhciBpbnN0YW5jZSA9IE0uQXV0b2NvbXBsZXRlLmdldEluc3RhbmNlKAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbHNWYXJNb2RhbCIpCiAgICAgICk7CiAgICAgIGluc3RhbmNlLnVwZGF0ZURhdGEoYWRkVG9BdXRvY29tcGxldGUpOwogICAgfSwKCiAgICBsb2FkQXR0ckFuZFNvdXJjZUZyb21CYWNrZW5kOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBhd2FpdCBheGlvcy5nZXQoCiAgICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2F0dHJpYnV0ZXMvYWxsIgogICAgICApOwogICAgICBjb25zdCBzb3VyY2VzX2FsbCA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgICBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9nZXQvc291cmNlcy9hbGwiCiAgICAgICk7CgogICAgICB2YXIgc291cmNlT2JqID0ge307CiAgICAgIHNvdXJjZXNfYWxsWyJkYXRhIl1bInNvdXJjZXMiXS5mb3JFYWNoKChlbGVtKSA9PiB7CiAgICAgICAgc291cmNlT2JqW2VsZW1dID0gbnVsbDsKICAgICAgfSk7CgogICAgICB2YXIgYXR0ck9iaiA9IHt9OwogICAgICBhdHRyaWJ1dGVzWyJkYXRhIl1bImF0dHJpYnV0ZXMiXS5mb3JFYWNoKChhdHRyKSA9PiB7CiAgICAgICAgYXR0ck9ialthdHRyLm5hbWVdID0gbnVsbDsKICAgICAgfSk7CiAgICAgIHRoaXMuYXR0ck9iaiA9IGF0dHJPYmo7CiAgICAgIHRoaXMuc291cmNlT2JqID0gc291cmNlT2JqOwogICAgfSwKICAgIHJlbW92ZU9MU2Zyb21BdXRvY29tcGxldGU6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgYXdhaXQgdGhpcy5sb2FkQXR0ckFuZFNvdXJjZUZyb21CYWNrZW5kKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["DataMapper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataMapper.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container pt-10\" id=\"main_container\">\n    <div id=\"global-loader\" class=\"global-loader\">\n      <div class=\"loader-elem\">\n        <atomspinner :size=\"80\" color=\"#5AA8EA\" />\n        <p id=\"loader-text\">updating...</p>\n      </div>\n    </div>\n    <div id=\"errorMessageTop\" style=\"display: none\">\n      <div class=\"materialert error\">\n        <i class=\"material-icons\">report_problem</i>\n        <span id=\"errorText\"></span>\n        <button type=\"button\" class=\"close-alert\" @click=\"closeError()\">\n          Ã—\n        </button>\n      </div>\n    </div>\n    <h2 class=\"mb-30\">\n      Mapping Assistant\n      <a class=\"tooltipped\" data-position=\"bottom\" :data-tooltip=\"helpText\"\n        ><i class=\"material-icons\">help_outline</i></a\n      >\n    </h2>\n\n    <div class=\"row\">\n      <div class=\"col\" v-if=\"checkForSingleSource()\">\n        <button\n          class=\"btn waves-effect waves-light blue-grey lighten-1\"\n          @click=\"fillSources()\"\n        >\n          Fill sources\n        </button>\n      </div>\n      <div class=\"col\">\n        <p>\n          <label>\n            <input\n              type=\"checkbox\"\n              class=\"filled-in\"\n              id=\"suggestion_checkbox\"\n              @change=\"alterSuggestions()\"\n            />\n            <span>Make suggestions</span>\n          </label>\n        </p>\n      </div>\n      <div class=\"col\">\n        <p>\n          <label>\n            <input type=\"checkbox\" class=\"filled-in\" @change=\"alterOLS()\" />\n            <span>Include OLS</span>\n          </label>\n        </p>\n      </div>\n      <div v-if=\"makeSuggestion == true\" class=\"col\">\n        <span class=\"badge blue\" style=\"color: white\">matched &#62; 80%</span>\n        <span class=\"badge orange\" style=\"color: white\">matched &#60; 80%</span>\n      </div>\n\n      <!-- \n\n            Modal for editing the row\n        -->\n\n      <div id=\"modal1\" class=\"modal\">\n        <div class=\"modal-content\">\n          <h4>Edit mapping for {{ modal.extVar }}</h4>\n\n          <div class=\"row\">\n            <div class=\"input-field col s6\">\n              <label for=\"sourceModal\">Source</label>\n              <input\n                class=\"autocomplete_source\"\n                type=\"text\"\n                id=\"sourceModal\"\n                :value=\"modal.source\"\n                @change=\"alterSource()\"\n              />\n            </div>\n            <div class=\"input-field col s6\">\n              <label for=\"sourceModal\">External Variable</label>\n              <input\n                type=\"text\"\n                id=\"extVarModal\"\n                :value=\"modal.extVar\"\n                readonly\n              />\n            </div>\n          </div>\n          <div v-if=\"includeOLS == true\" class=\"row\">\n            <div class=\"input-field col s6\">\n              <label for=\"sourceModal\">Internal Variable</label>\n              <input\n                class=\"autocomplete\"\n                type=\"text\"\n                id=\"intVarModal\"\n                :value=\"modal.intVar\"\n                @change=\"alterIntVar()\"\n              />\n            </div>\n            <div class=\"input-field col s6\">\n              <label for=\"sourceModal\">OLS Variable</label>\n\n              <input\n                @input=\"addOLStoAutocomplete()\"\n                class=\"ols_autocomplete\"\n                type=\"text\"\n                id=\"olsVarModal\"\n                :value=\"modal.olsVar\"\n                @change=\"alterOLSVar()\"\n              />\n            </div>\n          </div>\n          <div v-else class=\"row\">\n            <div class=\"input-field col s10\">\n              <label for=\"sourceModal\">Internal Variable</label>\n              <input\n                class=\"autocomplete\"\n                type=\"text\"\n                id=\"intVarModal\"\n                :value=\"modal.intVar\"\n                @change=\"alterIntVar()\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <a class=\"modal-close waves-effect waves-green btn-flat\" href=\"#!\">\n            Ok\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <datatable\n      title=\"Add mappings (Click on rows to edit)\"\n      :columns=\"columns\"\n      :rows=\"rows\"\n      v-on:row-click=\"onRowClick\"\n    >\n      <th slot=\"thead-tr\">Actions</th>\n      <template slot=\"tbody-tr\" scope=\"props\">\n        <td>\n          <button\n            class=\"btn waves-effect waves-light blue-grey lighten-1\"\n            @click=\"(e) => submitMapping(props.row, e)\"\n          >\n            Edit mappings<i class=\"material-icons white-text\">send</i>\n          </button>\n        </td>\n      </template>\n    </datatable>\n  </div>\n</template>\n\n<script>\nimport { AtomSpinner } from \"epic-spinners\";\nimport axios from \"axios\";\nimport DataTable from \"vue-materialize-datatable\";\nimport M from \"materialize-css\";\n\nexport default {\n  components: {\n    datatable: DataTable,\n    atomspinner: AtomSpinner,\n  },\n  data: function () {\n    return {\n      openModalTS: \"\",\n      helpText:\n        \"This assistant provides help for mapping variaables. The list below provides all variables in the dataset uploaded, that yould not be found in the current system or there was no suitable mapping onto a variable currently in the system. The assistant provides a suggestion system and backup support from OLS (Ontology Lookup System). Enable the two checkboxes below to activate these features. Try and prefferedly choose those variables that are already in the system and if nothing fits your data import one from OLS. If there is not suitable variable in OLS then you can go to the Model Wizard and add a variable by hand.\",\n      attrObj: {},\n      olsAutocomplete: {},\n      sourceObj: {},\n      has_suggestion: [],\n      modal: {\n        extVar: \"\",\n        intVar: \"\",\n        source: \"\",\n        olsVar: \"\",\n      },\n      hasSuggestionOls: [],\n\n      makeSuggestion: false,\n      includeOLS: false,\n      columns: [\n        { label: \"Source\", field: \"source\" },\n        { label: \"External Variable\", field: \"extVar\" },\n        { label: \"Internal Variable\", field: \"intVar\", html: true },\n      ],\n      rows: [],\n    };\n  },\n  async created() {\n    const response = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/all-attr-unmapped\"\n    );\n    for (var i = 0; i < response.data[\"datapoints\"].length; i++) {\n      this.rows.push({\n        source: \"\",\n        extVar: response.data[\"datapoints\"][i],\n        intVar: \"\",\n        olsVar: \"\",\n      });\n    }\n    await this.loadAttrAndSourceFromBackend();\n  },\n\n  mounted: function () {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      var elems = document.querySelectorAll(\".modal\");\n      M.Modal.init(elems);\n      M.Tooltip.init(document.querySelectorAll(\".tooltipped\"));\n    });\n    if (window.innerWidth <= 1300) {\n      document.getElementById(\"main_container\").classList.remove(\"container\");\n      document.getElementById(\"main_container\").classList.add(\"px-4\");\n    } else {\n      document.getElementById(\"main_container\").classList.add(\"container\");\n      document.getElementById(\"main_container\").classList.remove(\"px-4\");\n    }\n    window.onresize = function () {\n      if (window.innerWidth <= 1300) {\n        document.getElementById(\"main_container\").classList.remove(\"container\");\n        document.getElementById(\"main_container\").classList.add(\"px-4\");\n      } else {\n        document.getElementById(\"main_container\").classList.add(\"container\");\n        document.getElementById(\"main_container\").classList.remove(\"px-4\");\n      }\n    };\n  },\n\n  updated: function () {\n    // autocomplete\n    console.debug(\"Loading autocomplete...\");\n    var elems = document.querySelectorAll(\".autocomplete\");\n\n    M.Autocomplete.init(elems, { data: this.attrObj });\n\n    var elems_source = document.querySelectorAll(\".autocomplete_source\");\n    M.Autocomplete.init(elems_source, { data: this.sourceObj });\n\n    var elems_ols = document.querySelector(\".ols_autocomplete\");\n    M.Autocomplete.init(elems_ols, { data: this.olsAutocomplete });\n  },\n\n  methods: {\n    checkForSingleSource: function () {\n      function onlyUnique(value, index, self) {\n        return self.indexOf(value) === index;\n      }\n      var sources = [];\n      this.rows.forEach((row) => {\n        sources.push(row.source);\n      });\n      sources = sources.filter((src) => src != \"\");\n      var filteredSources = sources.filter(onlyUnique);\n\n      return filteredSources.length == 1;\n    },\n    fillSources: function () {\n      console.debug(\"filling sources...\");\n      document.getElementById(\"global-loader\").style.display = \"block\";\n      if (this.checkForSingleSource()) {\n        var src = this.rows.filter((row) => row.source != \"\")[0].source;\n        this.rows.forEach((row) => (row.source = src));\n        M.toast({ html: `Successfully filled sources with ${src}` });\n        document.getElementById(\"global-loader\").style.display = \"none\";\n      } else {\n        console.debug(\"Sources not unique\");\n        document.getElementById(\"global-loader\").style.display = \"none\";\n        return;\n      }\n    },\n    checkValid: (literal) => {\n      if (literal == null) {\n        return false;\n      }\n      if (literal == \"\") {\n        return false;\n      }\n      return true;\n    },\n    alterIntVar: function () {\n      var row = this.rows.find((elem) => elem.extVar == this.modal.extVar);\n      row.intVar = document.getElementById(\"intVarModal\").value;\n      this.modal.intVar = document.getElementById(\"intVarModal\").value;\n      return;\n    },\n    alterOLSVar: function () {\n      var row = this.rows.find((elem) => elem.extVar == this.modal.extVar);\n      row.olsVar = document.getElementById(\"olsVarModal\").value;\n      this.modal.olsVar = document.getElementById(\"olsVarModal\").value;\n      return;\n    },\n    alterSource: function () {\n      var row = this.rows.find((elem) => elem.extVar == this.modal.extVar);\n      row.source = document.getElementById(\"sourceModal\").value;\n      this.modal.source = document.getElementById(\"sourceModal\").value;\n      return;\n    },\n    alterTrans: function () {\n      var row = this.rows.find((elem) => elem.extVar == this.modal.extVar);\n      row.trans = document.getElementById(\"transModal\").value;\n      return;\n    },\n\n    submitMapping: async function (props, e) {\n      this.openModalTS = new Date().getTime();\n\n      e.preventDefault(); // does not prevent modal from opening...\n      var extVar = props.extVar;\n      var intVar = props.intVar;\n      var src = props.source;\n      var olsVar = props.olsVar;\n\n      //console.log(extVar,intVar, src);\n      /*var trans = props.trans;*/\n      if (\n        (this.checkValid(extVar) &&\n          this.checkValid(intVar) &&\n          this.checkValid(src) &&\n          !this.checkValid(olsVar)) ||\n        (this.checkValid(extVar) &&\n          !this.checkValid(intVar) &&\n          this.checkValid(src) &&\n          this.checkValid(olsVar))\n        /* this.checkValid(trans) this is maybe optional */\n      ) {\n        // mapping\n        if (this.checkValid(olsVar)) {\n          intVar = olsVar;\n        }\n        const mappingResponse = await axios({\n          method: \"post\",\n          url: process.env.VUE_APP_CLINICALURL + \"/post/basic-mapping\",\n          data: {\n            source: src,\n            source_attribute: extVar,\n            target: intVar,\n          },\n          withCredentials: true,\n        });\n        //console.log(mappingResponse);\n        if (mappingResponse.data[\"message\"] == \"ok\") {\n          this.rows = this.rows.filter((elem) => elem.extVar != extVar); // remove the row from the table\n          M.toast({ html: \"You successfully mapped: \" + extVar });\n          if (intVar.split(\"|\").length > 2) {\n            M.toast({\n              html:\n                \"You successfully added term from OLS: \" + extVar.split(\"|\")[0],\n            });\n          }\n        } else {\n          document.getElementById(\"errorMessageTop\").style.display = \"block\";\n          document.getElementById(\"errorText\").innerText =\n            mappingResponse.data[\"message\"];\n        }\n      } else {\n        M.toast({ html: \"Please check your input\" });\n        return;\n      }\n    },\n\n    closeError: function () {\n      document.getElementById(\"errorMessageTop\").style.display = \"none\";\n    },\n    onRowClick: async function (row) {\n      var ts = new Date().getTime();\n      if (ts - this.openModalTS < 1000) {\n        // prevent row click when submit is intended @future_philipp : feel free to implement better !\n        return;\n      }\n      function extractContent(s) {\n        var span = document.createElement(\"span\");\n        span.innerHTML = s;\n        return span.textContent || span.innerText;\n      }\n\n      // setting data to render it into the model body\n      this.modal.extVar = row.extVar;\n      this.modal.intVar = extractContent(row.intVar);\n      this.modal.source = row.source;\n      this.modal.olsVar = row.olsVar;\n\n      this.olsAutocomplete = {};\n      // open modal\n      var elem = document.querySelectorAll(\".modal\")[0];\n      var instance = M.Modal.getInstance(elem);\n      await instance.open();\n      M.updateTextFields();\n    },\n\n    addSuggestions: async function () {\n      for (var i = 0; i < this.rows.length; i++) {\n        if (this.rows[i].intVar === \"\") {\n          const response = await axios.get(\n            process.env.VUE_APP_CLINICALURL +\n              \"/get/nearest-neighbor?attribute=\" +\n              this.rows[i].extVar +\n              \"&ols=\" +\n              this.includeOLS\n          );\n          if (response.data[\"candidate\"] != \"--no-candidate--\") {\n            if (response.data[\"candidate\"].split(\"|\").length > 2) {\n              // OLS VAR\n              this.rows[i].olsVar = response.data[\"candidate\"];\n\n              this.hasSuggestionOls.push(this.rows[i].olsVar);\n            } else {\n              // Var from backend\n\n              if (response.data[\"distance\"] >= 0.8) {\n                this.rows[i].intVar =\n                  \"<span class='badge blue' style='color: white'>\" +\n                  response.data[\"candidate\"] +\n                  \"</span>\";\n                //this.rows[i].suggestionDistance =  \"<span class='badge blue'> </span>\";\n              } else {\n                this.rows[i].intVar =\n                  \"<span class='badge orange' style='color: white'>\" +\n                  response.data[\"candidate\"] +\n                  \"</span>\";\n                //this.rows[i].suggestionDistance = \"<span class='badge orange'> </span>\";\n              }\n              this.has_suggestion.push(this.rows[i].extVar);\n            }\n          }\n        }\n      }\n    },\n    removeSuggestions: function () {\n      this.rows\n        .filter((row) => this.has_suggestion.includes(row.extVar))\n        .forEach((row) => {\n          row.intVar = \"\";\n        });\n      this.has_suggestion = [];\n      this.rows\n        .filter((row) => this.hasSuggestionOls.includes(row.olsVar))\n        .forEach((row) => {\n          row.olsVar = \"\";\n        });\n      this.hasSuggestionOls = [];\n    },\n    alterSuggestions: async function () {\n      document.getElementById(\"global-loader\").style.display = \"block\";\n      if (this.makeSuggestion) {\n        this.makeSuggestion = false;\n        // this.columns.splice(\n        //   this.columns.indexOf({\n        //     label: \"Suggestion\",\n        //     field: \"suggestionDistance\",\n        //   }),\n        //   1\n        // );\n        this.removeSuggestions();\n        M.toast({ html: \"Suggestions disabled\" });\n      } else {\n        this.makeSuggestion = true;\n        //this.columns.push({ label: \"Suggestion\", field: \"suggestionDistance\" , html: true});\n        M.toast({ html: \"Searching for suggestions...\" });\n        await this.addSuggestions();\n        M.toast({ html: \"Suggestions added to table!\" });\n      }\n      document.getElementById(\"global-loader\").style.display = \"none\";\n    },\n    alterOLS: async function () {\n      document.getElementById(\"global-loader\").style.display = \"block\";\n      if (this.includeOLS) {\n        //await this.removeOLSfromAutocomplete();\n        this.columns.splice(\n          this.columns.indexOf({ label: \"OLS Variable\", field: \"olsVar\" }),\n          1\n        );\n\n        this.rows\n          .filter((row) => this.hasSuggestionOls.includes(row.olsVar))\n          .forEach((row) => {\n            row.olsVar = \"\";\n          });\n        this.hasSuggestionOls = [];\n        this.includeOLS = false;\n        M.toast({ html: \"OLS search disabled\" });\n      } else {\n        //await this.addOLStoAutocomplete();\n        this.columns.push({ label: \"OLS Variable\", field: \"olsVar\" });\n        this.includeOLS = true;\n        if (this.makeSuggestion) {\n          await this.addSuggestions();\n        }\n        M.toast({ html: \"OLS search enabled\" });\n      }\n      document.getElementById(\"global-loader\").style.display = \"none\";\n    },\n    addOLStoAutocomplete: async function () {\n      /**\n       * \n       Use this in case CORS fails\n     var headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json',\n    }\n    */\n      var inputElem = document.getElementById(\"olsVarModal\");\n      var term = inputElem.value;\n\n      var addToAutocomplete = {};\n\n      const olsResponse = await axios.get(\n        process.env.VUE_APP_OLSURL + `api/select?q=${term}&rows=10`\n      );\n      var responseObj = olsResponse.data.response.docs;\n      for (var k = 0; k < responseObj.length; k++) {\n        if (\n          this.rows.filter((row) => {\n            row.intVar === responseObj[k][\"label\"];\n          }).length == 0\n        ) {\n          // make sure that this is not already in the backend\n          addToAutocomplete[\n            responseObj[k][\"label\"] +\n              \"|\" +\n              responseObj[k][\"ontology_name\"] +\n              \"|\" +\n              responseObj[k][\"iri\"]\n          ] = null;\n        }\n      }\n      // add the results to autocomplete\n      this.olsAutocomplete = addToAutocomplete;\n      var instance = M.Autocomplete.getInstance(\n        document.getElementById(\"olsVarModal\")\n      );\n      instance.updateData(addToAutocomplete);\n    },\n\n    loadAttrAndSourceFromBackend: async function () {\n      const attributes = await axios.get(\n        process.env.VUE_APP_CLINICALURL + \"/get/attributes/all\"\n      );\n      const sources_all = await axios.get(\n        process.env.VUE_APP_CLINICALURL + \"/get/sources/all\"\n      );\n\n      var sourceObj = {};\n      sources_all[\"data\"][\"sources\"].forEach((elem) => {\n        sourceObj[elem] = null;\n      });\n\n      var attrObj = {};\n      attributes[\"data\"][\"attributes\"].forEach((attr) => {\n        attrObj[attr.name] = null;\n      });\n      this.attrObj = attrObj;\n      this.sourceObj = sourceObj;\n    },\n    removeOLSfromAutocomplete: async function () {\n      await this.loadAttrAndSourceFromBackend();\n    },\n  },\n};\n</script>\n\n<style>\n.global-loader {\n  position: absolute;\n  display: none;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(220, 220, 220, 0.5);\n}\n.loader-elem {\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.materialert {\n  position: relative;\n  min-width: 150px;\n  padding: 15px;\n  margin-bottom: 20px;\n  margin-top: 15px;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  transition: all 0.1s linear;\n  webkit-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.materialert .material-icons {\n  margin-right: 10px;\n}\n.materialert .close-alert {\n  -webkit-appearance: none;\n  border: 0;\n  cursor: pointer;\n  color: inherit;\n  background: 0 0;\n  font-size: 22px;\n  line-height: 1;\n  font-weight: bold;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.7);\n  filter: alpha(opacity=40);\n  margin-bottom: -5px;\n  position: absolute;\n  top: 16px;\n  right: 5px;\n}\n.materialert.info {\n  background-color: #039be5;\n  color: #fff;\n}\n.materialert.success {\n  background-color: #43a047;\n  color: #fff;\n}\n.materialert.error {\n  background-color: #c62828;\n  color: #fff;\n}\n.materialert.danger {\n  background-color: #c62828;\n  color: #fff;\n}\n.materialert.warning {\n  background-color: #fbc02d;\n  color: #fff;\n}\n</style>"]}]}