{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataModelForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataModelForm.vue","mtime":1626075497077},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAkIGZyb20gImpxdWVyeSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIm1vZGVsZm9ybSIsCiAgbW91bnRlZCgpIHsKICAgIHZhciBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2RhdGFtb2RlbF9mb3JtIik7CiAgICAvL3ZhciBmaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGFtb2RlbF9maWxlJyk7CgogICAgJCgiI2Zvcm1fYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRhdGFtb2RlbF9maWxlIikuZmlsZXMubGVuZ3RoID09IDApIHsKICAgICAgICAkKCIjd2FybmluZyIpLnNob3coKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7CgogICAgICAvL2NvbnNvbGUubG9nKGZvcm1fZGF0YSk7CiAgICAgICQoIiNkYXRhbW9kZWxfZm9ybSIpLmhpZGUoKTsKICAgICAgJCgiI3dhcm5pbmciKS5oaWRlKCk7CiAgICAgICQoIiNsb2FkZXIiKS5zaG93KCk7CgogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsCiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLAogICAgICAgIGRhdGE6IGZvcm1fZGF0YSwKICAgICAgICB4aHJGaWVsZHM6IHsKICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgfSwKICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQ0xJTklDQUxVUkwgKyAiL3VwbG9hZC9kYXRhbW9kZWwiLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgICAgICAgdmFyIG1lc3NhZ2VzID0gZXZlbnRbInJlcG9ydCJdOwogICAgICAgICAgJCgiI2xvYWRlciIpLmhpZGUoKTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbWVzc2FnZXMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgJCgiI3Jlc3BfbGlzdCIpLmFwcGVuZCgiPGxpPiIgKyBtZXNzYWdlc1trXSArICI8L2xpPiIpOwogICAgICAgICAgfQogICAgICAgICAgJCgiI3Jlc3BvbnNlcyIpLnNob3coKTsKICAgICAgICB9LAogICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAkKCIjbG9hZGVyIikuaGlkZSgpOwoKICAgICAgICAgICQoIiNyZXNwX2xpc3QiKS5hcHBlbmQoCiAgICAgICAgICAgICI8bGk+IiArICJPb29wcyBzb21ldGhpbmcgd2VudCB3cm9uZy4uLiIgKyAiPC9saT4iCiAgICAgICAgICApOwoKICAgICAgICAgICQoIiNyZXNwb25zZXMiKS5zaG93KCk7CiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9KTsKICB9LAp9Owo="},{"version":3,"sources":["DataModelForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"DataModelForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <h1>Datamodel Bulk-Upload</h1>\n      <h5 style=\"color: red; display: none\" id=\"warning\">\n        Please upload a file...\n      </h5>\n\n      <div id=\"responses\" style=\"display: none\">\n        <div class=\"row\">\n          <div class=\"col s6\">\n            <a class=\"blue-grey lighten-1 btn\" href=\"/data-steward/graph\"\n              >See visualization</a\n            >\n          </div>\n          <div class=\"col s6\">\n            <a class=\"blue-grey lighten-1 btn\" href=\"/data-steward/edit\"\n              >Edit datamodel</a\n            >\n          </div>\n        </div>\n        <h5>Responses from the DSII (Data Steward Integration Intelligence)</h5>\n        <ul id=\"resp_list\"></ul>\n      </div>\n\n      <div\n        class=\"preloader-wrapper big active\"\n        style=\"display: none\"\n        id=\"loader\"\n      >\n        <div class=\"spinner-layer spinner-blue\">\n          <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n          </div>\n        </div>\n\n        <div class=\"spinner-layer spinner-red\">\n          <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n          </div>\n        </div>\n\n        <div class=\"spinner-layer spinner-yellow\">\n          <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n          </div>\n        </div>\n\n        <div class=\"spinner-layer spinner-green\">\n          <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n          </div>\n        </div>\n      </div>\n\n      <form id=\"datamodel_form\">\n        <div class=\"row\">\n          <div class=\"input-field col s6\">\n            <select name=\"write_mode\">\n              <option value disabled selected>\n                Determine strategy for existing datamodel entries:\n              </option>\n              <option value=\"new\">\n                Drop complete datamodel before loading file\n              </option>\n              <option value=\"add\">\n                Leave existing entries untouched, append your new ones\n              </option>\n            </select>\n            <label>Choose a Strategy</label>\n          </div>\n          <div class=\"input-field col s6\">\n            <input\n              value=\"0\"\n              id=\"header_line\"\n              name=\"header_line\"\n              required\n              type=\"number\"\n              class=\"validate\"\n              placeholder=\"Offset of header line (0 = first line in file):\"\n            />\n            <label for=\"header_line\"\n              >Offset of header line (0 = first line in file):</label\n            >\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"input-field col s4\">\n            <div class=\"file-field input-field\">\n              <div class=\"btn blue-grey lighten-1\">\n                <span>File</span>\n                <input\n                  type=\"file\"\n                  name=\"datamodel_file\"\n                  id=\"datamodel_file\"\n                  required\n                />\n              </div>\n              <div class=\"file-path-wrapper\">\n                <input\n                  class=\"file-path validate\"\n                  type=\"text\"\n                  placeholder=\"Upload your Datamodel\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <p class=\"left-align\">What do you want to do?</p>\n          <div class=\"col s6 left-align\">\n            <p>\n              <label>\n                <input type=\"checkbox\" name=\"core_method\" checked />\n                <span>Load Core Model (Attributes, Codes, Units)</span>\n              </label>\n            </p>\n            <p>\n              <label>\n                <input type=\"checkbox\" name=\"mappings_method\" />\n                <span>Load Mappings</span>\n              </label>\n            </p>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col s12 right-align\">\n            <button\n              class=\"btn waves-effect waves-light blue-grey lighten-1\"\n              type=\"button\"\n              name=\"action\"\n              id=\"form_btn\"\n            >\n              Submit\n              <i class=\"material-icons right\">send</i>\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport $ from \"jquery\";\n\nexport default {\n  name: \"modelform\",\n  mounted() {\n    var form = document.querySelector(\"#datamodel_form\");\n    //var file = document.querySelector('#datamodel_file');\n\n    $(\"#form_btn\").on(\"click\", function () {\n      if (document.getElementById(\"datamodel_file\").files.length == 0) {\n        $(\"#warning\").show();\n        return;\n      }\n\n      var form_data = new FormData(form);\n\n      //console.log(form_data);\n      $(\"#datamodel_form\").hide();\n      $(\"#warning\").hide();\n      $(\"#loader\").show();\n\n      $.ajax({\n        type: \"POST\",\n        processData: false,\n        contentType: false,\n        data: form_data,\n        xhrFields: {\n       withCredentials: true\n    },\n        url: process.env.VUE_APP_CLINICALURL + \"/upload/datamodel\",\n        success: function (event) {\n          console.log(event);\n          var messages = event[\"report\"];\n          $(\"#loader\").hide();\n          for (var k = 0; k < messages.length; k++) {\n            $(\"#resp_list\").append(\"<li>\" + messages[k] + \"</li>\");\n          }\n          $(\"#responses\").show();\n        },\n        error: function (e) {\n          console.log(e);\n          $(\"#loader\").hide();\n\n          $(\"#resp_list\").append(\n            \"<li>\" + \"Ooops something went wrong...\" + \"</li>\"\n          );\n\n          $(\"#responses\").show();\n        },\n      });\n    });\n  },\n};\n</script>"]}]}