{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataDump.vue?vue&type=style&index=0&id=0f256c24&scoped=true&lang=css&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataDump.vue","mtime":1626075497076},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2xhYmVsLWVycm9yIHsKICBjb2xvcjogcmVkOwoKfQojZXJyb3IgewogIGNvbG9yOiByZWQ7CiAgICAKICBwYWRkaW5nOiAxNXB4OwogIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTsKICB3aWR0aDogMjB2dzsKICBtYXJnaW46IGF1dG87CiAgZGlzcGxheTogbm9uZTsKfQojc3VjY2VzcyB7CiAgY29sb3I6IGdyZWVuOwogIHBhZGRpbmc6IDE1cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5OwogIHdpZHRoOiAyMHZ3OwogIG1hcmdpbjogYXV0bzsKICBkaXNwbGF5OiBub25lOwp9Ci50b29sdGlwcGVkOmhvdmVyIHsKICBjdXJzb3I6IGhlbHA7Cn0K"},{"version":3,"sources":["DataDump.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataDump.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <h5>\n      Upload Semantic Asset\n      <i\n        class=\"material-icons tooltipped\"\n        data-position=\"bottom\"\n        data-tooltip=\"A Semantic Asset can be any variable that you are using or planning to use. Uploading your variables here help to higher the coverage of the Common Datamodel!\"\n        >info</i\n      >\n    </h5>\n    <br />\n    <p id=\"error\"></p>\n     <div class=\"progress\" style=\"display: none; width: 40vw; margin: auto\">\n      <div class=\"indeterminate\"></div>\n  </div>\n    <p id=\"success\"></p>\n    <br />\n    <div class=\"row\">\n      <form id=\"data_dump\">\n        <div class=\"row\">\n          <div class=\"input-field col s6\">\n            <input\n              type=\"text\"\n              name=\"label\"\n              id=\"input_label\"\n              placeholder=\"A unique name for the variable\"\n              required\n            />\n            <label for=\"label\">Variable Name</label>\n            <div id=\"label-error\"></div>\n          </div>\n          <div class=\"input-field col s6\">\n            <input\n              type=\"text\"\n              name=\"provenance\"\n              id=\"input_provenance\"\n              placeholder=\"Optionally add adescription\"\n            />\n            <label for=\"provenance\">Provenance (optional)</label>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col s12\">\n            <label for=\"textarea1\">Description</label>\n            <textarea\n              id=\"textarea1\"\n              name=\"description\"\n              class=\"materialize-textarea\"\n              required\n            ></textarea>\n\n            <span class=\"helper-text\" data-error=\"wrong\" data-success=\"right\"\n              >Make your desciption as common as possible because this is later\n              used to map your variable to the Common Datamodel.</span\n            >\n          </div>\n        </div>\n\n        <button\n          class=\"btn waves-effect waves-light right\"\n          type=\"submit\"\n          name=\"action\"\n          id=\"submit\"\n        >\n          Upload\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nimport M from \"materialize-css\";\nimport ax from \"axios\";\nconst axios = ax;\n\nexport default {\n  name: \"DataDump\",\n  data() {\n    return {\n      assets: [],\n    };\n  },\n  async mounted() {\n     const assets = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/semantic-assets-all\"\n    );\n    this.assets = assets[\"data\"][\"assets\"];\n    var this_assets = this.assets;\n    document.getElementById(\"data_dump\").onsubmit = async function (e) {\n      document.getElementsByClassName('progress')[0].style.display = 'block';\n      e.preventDefault();\n      console.log(\"POST....\");\n      var formData = new FormData(this);\n      const uploadResponse = await axios({\n        method: \"post\",\n        url: process.env.VUE_APP_CLINICALURL + \"/post/semantic-asset\",\n        data: formData,\n      });\n      console.log(uploadResponse);\n      if (!uploadResponse[\"data\"][\"message\"] == \"ok\") {\n        document.getElementById(\"error\").innerHTML =\n          uploadResponse[\"data\"][\"message\"];\n        document.getElementById(\"error\").style.display = \"block\";\n      } else {\n        this.reset();\n        // document.getElementById(\"error\").innerHTML = \"\";\n        // document.getElementById(\"success\").innerHTML =\n        //   \"Successfully uploaded a semantic asset.\";\n        // document.getElementById(\"success\").style.display = \"block\";\n        M.updateTextFields();\n        const assets = await axios.get(\n          process.env.VUE_APP_CLINICALURL + \"/get/semantic-assets-all\"\n        );\n        this_assets = assets[\"data\"][\"assets\"];\n\n          M.toast({html: 'Successfully contributed a Semantic Asset! Thank you!'});\n           document.getElementsByClassName('progress')[0].style.display = \"none\";\n      }\n    };\n\n   \n    document.getElementById(\"input_label\").onchange = function () {\n      if (this_assets.some((e) => e == this.value)) {\n        document.getElementById(\"label-error\").innerHTML =\n          \"This variable name already exists!\";\n        document.getElementById(\"submit\").disabled = true;\n      } else {\n        document.getElementById(\"label-error\").innerHTML = \"\";\n        document.getElementById(\"submit\").disabled = false;\n      }\n    };\n  },\n};\n</script>\n\n<style scoped>\n#label-error {\n  color: red;\n\n}\n#error {\n  color: red;\n    \n  padding: 15px;\n  background-color: lightgray;\n  width: 20vw;\n  margin: auto;\n  display: none;\n}\n#success {\n  color: green;\n  padding: 15px;\n  background-color: lightgray;\n  width: 20vw;\n  margin: auto;\n  display: none;\n}\n.tooltipped:hover {\n  cursor: help;\n}\n</style>"]}]}