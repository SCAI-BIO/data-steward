{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataMapper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataMapper.vue","mtime":1628847351084},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEF0b21TcGlubmVyIH0gZnJvbSAiZXBpYy1zcGlubmVycyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBEYXRhVGFibGUgZnJvbSAidnVlLW1hdGVyaWFsaXplLWRhdGF0YWJsZSI7CmltcG9ydCBNIGZyb20gIm1hdGVyaWFsaXplLWNzcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgZGF0YXRhYmxlOiBEYXRhVGFibGUsCiAgICBhdG9tc3Bpbm5lcjogQXRvbVNwaW5uZXIsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVuTW9kYWxUUzogIiIsCiAgICAgIGhlbHBUZXh0OgogICAgICAgICJUaGlzIGFzc2lzdGFudCBwcm92aWRlcyBoZWxwIGZvciBtYXBwaW5nIHZhcmlhYWJsZXMuIFRoZSBsaXN0IGJlbG93IHByb3ZpZGVzIGFsbCB2YXJpYWJsZXMgaW4gdGhlIGRhdGFzZXQgdXBsb2FkZWQsIHRoYXQgeW91bGQgbm90IGJlIGZvdW5kIGluIHRoZSBjdXJyZW50IHN5c3RlbSBvciB0aGVyZSB3YXMgbm8gc3VpdGFibGUgbWFwcGluZyBvbnRvIGEgdmFyaWFibGUgY3VycmVudGx5IGluIHRoZSBzeXN0ZW0uIFRoZSBhc3Npc3RhbnQgcHJvdmlkZXMgYSBzdWdnZXN0aW9uIHN5c3RlbSBhbmQgYmFja3VwIHN1cHBvcnQgZnJvbSBPTFMgKE9udG9sb2d5IExvb2t1cCBTeXN0ZW0pLiBFbmFibGUgdGhlIHR3byBjaGVja2JveGVzIGJlbG93IHRvIGFjdGl2YXRlIHRoZXNlIGZlYXR1cmVzLiBUcnkgYW5kIHByZWZmZXJlZGx5IGNob29zZSB0aG9zZSB2YXJpYWJsZXMgdGhhdCBhcmUgYWxyZWFkeSBpbiB0aGUgc3lzdGVtIGFuZCBpZiBub3RoaW5nIGZpdHMgeW91ciBkYXRhIGltcG9ydCBvbmUgZnJvbSBPTFMuIElmIHRoZXJlIGlzIG5vdCBzdWl0YWJsZSB2YXJpYWJsZSBpbiBPTFMgdGhlbiB5b3UgY2FuIGdvIHRvIHRoZSBNb2RlbCBXaXphcmQgYW5kIGFkZCBhIHZhcmlhYmxlIGJ5IGhhbmQuIiwKICAgICAgYXR0ck9iajoge30sCiAgICAgIG9sc0F1dG9jb21wbGV0ZToge30sCiAgICAgIHNvdXJjZU9iajoge30sCiAgICAgIGhhc19zdWdnZXN0aW9uOiBbXSwKICAgICAgbW9kYWw6IHsKICAgICAgICBleHRWYXI6ICIiLAogICAgICAgIGludFZhcjogIiIsCiAgICAgICAgc291cmNlOiAiIiwKICAgICAgICBvbHNWYXI6ICIiLAogICAgICB9LAogICAgICBoYXNTdWdnZXN0aW9uT2xzOiBbXSwKCiAgICAgIG1ha2VTdWdnZXN0aW9uOiBmYWxzZSwKICAgICAgaW5jbHVkZU9MUzogZmFsc2UsCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7IGxhYmVsOiAiU291cmNlIiwgZmllbGQ6ICJzb3VyY2UiIH0sCiAgICAgICAgeyBsYWJlbDogIkV4dGVybmFsIFZhcmlhYmxlIiwgZmllbGQ6ICJleHRWYXIiIH0sCiAgICAgICAgeyBsYWJlbDogIkludGVybmFsIFZhcmlhYmxlIiwgZmllbGQ6ICJpbnRWYXIiLCBodG1sOiB0cnVlIH0sCiAgICAgIF0sCiAgICAgIHJvd3M6IFtdLAogICAgfTsKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2FsbC1hdHRyLXVubWFwcGVkIgogICAgKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YVsiZGF0YXBvaW50cyJdLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMucm93cy5wdXNoKHsKICAgICAgICBzb3VyY2U6ICIiLAogICAgICAgIGV4dFZhcjogcmVzcG9uc2UuZGF0YVsiZGF0YXBvaW50cyJdW2ldLAogICAgICAgIGludFZhcjogIiIsCiAgICAgICAgb2xzVmFyOiAiIiwKICAgICAgfSk7CiAgICB9CiAgICBhd2FpdCB0aGlzLmxvYWRBdHRyQW5kU291cmNlRnJvbUJhY2tlbmQoKTsKICB9LAoKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIubW9kYWwiKTsKICAgICAgTS5Nb2RhbC5pbml0KGVsZW1zKTsKICAgICAgTS5Ub29sdGlwLmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnRvb2x0aXBwZWQiKSk7CiAgICB9KTsKICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMzAwKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluX2NvbnRhaW5lciIpLmNsYXNzTGlzdC5yZW1vdmUoImNvbnRhaW5lciIpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5jbGFzc0xpc3QuYWRkKCJweC00Iik7CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5jbGFzc0xpc3QuYWRkKCJjb250YWluZXIiKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1haW5fY29udGFpbmVyIikuY2xhc3NMaXN0LnJlbW92ZSgicHgtNCIpOwogICAgfQogICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gMTMwMCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluX2NvbnRhaW5lciIpLmNsYXNzTGlzdC5yZW1vdmUoImNvbnRhaW5lciIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluX2NvbnRhaW5lciIpLmNsYXNzTGlzdC5hZGQoInB4LTQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5jbGFzc0xpc3QuYWRkKCJjb250YWluZXIiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5jbGFzc0xpc3QucmVtb3ZlKCJweC00Iik7CiAgICAgIH0KICAgIH07CiAgfSwKCiAgdXBkYXRlZDogZnVuY3Rpb24gKCkgewogICAgLy8gYXV0b2NvbXBsZXRlCiAgICBjb25zb2xlLmRlYnVnKCJMb2FkaW5nIGF1dG9jb21wbGV0ZS4uLiIpOwogICAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmF1dG9jb21wbGV0ZSIpOwoKICAgIE0uQXV0b2NvbXBsZXRlLmluaXQoZWxlbXMsIHsgZGF0YTogdGhpcy5hdHRyT2JqIH0pOwoKICAgIHZhciBlbGVtc19zb3VyY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYXV0b2NvbXBsZXRlX3NvdXJjZSIpOwogICAgTS5BdXRvY29tcGxldGUuaW5pdChlbGVtc19zb3VyY2UsIHsgZGF0YTogdGhpcy5zb3VyY2VPYmogfSk7CgogICAgdmFyIGVsZW1zX29scyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5vbHNfYXV0b2NvbXBsZXRlIik7CiAgICBNLkF1dG9jb21wbGV0ZS5pbml0KGVsZW1zX29scywgeyBkYXRhOiB0aGlzLm9sc0F1dG9jb21wbGV0ZSB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjaGVja0ZvclNpbmdsZVNvdXJjZTogZnVuY3Rpb24gKCkgewogICAgICBmdW5jdGlvbiBvbmx5VW5pcXVlKHZhbHVlLCBpbmRleCwgc2VsZikgewogICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDsKICAgICAgfQogICAgICB2YXIgc291cmNlcyA9IFtdOwogICAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93KSA9PiB7CiAgICAgICAgc291cmNlcy5wdXNoKHJvdy5zb3VyY2UpOwogICAgICB9KTsKICAgICAgc291cmNlcyA9IHNvdXJjZXMuZmlsdGVyKChzcmMpID0+IHNyYyAhPSAiIik7CiAgICAgIHZhciBmaWx0ZXJlZFNvdXJjZXMgPSBzb3VyY2VzLmZpbHRlcihvbmx5VW5pcXVlKTsKCiAgICAgIHJldHVybiBmaWx0ZXJlZFNvdXJjZXMubGVuZ3RoID09IDE7CiAgICB9LAogICAgZmlsbFNvdXJjZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5kZWJ1ZygiZmlsbGluZyBzb3VyY2VzLi4uIik7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnbG9iYWwtbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIGlmICh0aGlzLmNoZWNrRm9yU2luZ2xlU291cmNlKCkpIHsKICAgICAgICB2YXIgc3JjID0gdGhpcy5yb3dzLmZpbHRlcigocm93KSA9PiByb3cuc291cmNlICE9ICIiKVswXS5zb3VyY2U7CiAgICAgICAgdGhpcy5yb3dzLmZvckVhY2goKHJvdykgPT4gKHJvdy5zb3VyY2UgPSBzcmMpKTsKICAgICAgICBNLnRvYXN0KHsgaHRtbDogYFN1Y2Nlc3NmdWxseSBmaWxsZWQgc291cmNlcyB3aXRoICR7c3JjfWAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdsb2JhbC1sb2FkZXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZGVidWcoIlNvdXJjZXMgbm90IHVuaXF1ZSIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnbG9iYWwtbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICBjaGVja1ZhbGlkOiAobGl0ZXJhbCkgPT4gewogICAgICBpZiAobGl0ZXJhbCA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmIChsaXRlcmFsID09ICIiKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIGFsdGVySW50VmFyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByb3cgPSB0aGlzLnJvd3MuZmluZCgoZWxlbSkgPT4gZWxlbS5leHRWYXIgPT0gdGhpcy5tb2RhbC5leHRWYXIpOwogICAgICByb3cuaW50VmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImludFZhck1vZGFsIikudmFsdWU7CiAgICAgIHRoaXMubW9kYWwuaW50VmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImludFZhck1vZGFsIikudmFsdWU7CiAgICAgIHJldHVybjsKICAgIH0sCiAgICBhbHRlck9MU1ZhcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgcm93ID0gdGhpcy5yb3dzLmZpbmQoKGVsZW0pID0+IGVsZW0uZXh0VmFyID09IHRoaXMubW9kYWwuZXh0VmFyKTsKICAgICAgcm93Lm9sc1ZhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbHNWYXJNb2RhbCIpLnZhbHVlOwogICAgICB0aGlzLm1vZGFsLm9sc1ZhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbHNWYXJNb2RhbCIpLnZhbHVlOwogICAgICByZXR1cm47CiAgICB9LAogICAgYWx0ZXJTb3VyY2U6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHJvdyA9IHRoaXMucm93cy5maW5kKChlbGVtKSA9PiBlbGVtLmV4dFZhciA9PSB0aGlzLm1vZGFsLmV4dFZhcik7CiAgICAgIHJvdy5zb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic291cmNlTW9kYWwiKS52YWx1ZTsKICAgICAgdGhpcy5tb2RhbC5zb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic291cmNlTW9kYWwiKS52YWx1ZTsKICAgICAgcmV0dXJuOwogICAgfSwKICAgIGFsdGVyVHJhbnM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHJvdyA9IHRoaXMucm93cy5maW5kKChlbGVtKSA9PiBlbGVtLmV4dFZhciA9PSB0aGlzLm1vZGFsLmV4dFZhcik7CiAgICAgIHJvdy50cmFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0cmFuc01vZGFsIikudmFsdWU7CiAgICAgIHJldHVybjsKICAgIH0sCiAgICBleHRyYWN0Q29udGVudDogZnVuY3Rpb24ocykgewogIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogIHNwYW4uaW5uZXJIVE1MID0gczsKICByZXR1cm4gc3Bhbi50ZXh0Q29udGVudCB8fCBzcGFuLmlubmVyVGV4dDsKfSwKCiAgICBzdWJtaXRNYXBwaW5nOiBhc3luYyBmdW5jdGlvbiAocHJvcHMsIGUpIHsKICAgICAgdGhpcy5vcGVuTW9kYWxUUyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwoKICAgIAoKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBkb2VzIG5vdCBwcmV2ZW50IG1vZGFsIGZyb20gb3BlbmluZy4uLgogICAgICB2YXIgZXh0VmFyID0gcHJvcHMuZXh0VmFyOwogICAgICB2YXIgaW50VmFyID0gdGhpcy5leHRyYWN0Q29udGVudChwcm9wcy5pbnRWYXIpOwogICAgICBjb25zb2xlLmxvZyhpbnRWYXIpOwogICAgICB2YXIgc3JjID0gcHJvcHMuc291cmNlOwogICAgICB2YXIgb2xzVmFyID0gcHJvcHMub2xzVmFyOwoKICAgICAgLy9jb25zb2xlLmxvZyhleHRWYXIsaW50VmFyLCBzcmMpOwogICAgICAvKnZhciB0cmFucyA9IHByb3BzLnRyYW5zOyovCiAgICAgIGlmICgKICAgICAgICAodGhpcy5jaGVja1ZhbGlkKGV4dFZhcikgJiYKICAgICAgICAgIHRoaXMuY2hlY2tWYWxpZChpbnRWYXIpICYmCiAgICAgICAgICB0aGlzLmNoZWNrVmFsaWQoc3JjKSAmJgogICAgICAgICAgIXRoaXMuY2hlY2tWYWxpZChvbHNWYXIpKSB8fAogICAgICAgICh0aGlzLmNoZWNrVmFsaWQoZXh0VmFyKSAmJgogICAgICAgICAgIXRoaXMuY2hlY2tWYWxpZChpbnRWYXIpICYmCiAgICAgICAgICB0aGlzLmNoZWNrVmFsaWQoc3JjKSAmJgogICAgICAgICAgdGhpcy5jaGVja1ZhbGlkKG9sc1ZhcikpCiAgICAgICAgLyogdGhpcy5jaGVja1ZhbGlkKHRyYW5zKSB0aGlzIGlzIG1heWJlIG9wdGlvbmFsICovCiAgICAgICkgewogICAgICAgIC8vIG1hcHBpbmcKICAgICAgICBpZiAodGhpcy5jaGVja1ZhbGlkKG9sc1ZhcikpIHsKICAgICAgICAgIGludFZhciA9IG9sc1ZhcjsKICAgICAgICB9CiAgICAgICAgY29uc3QgbWFwcGluZ1Jlc3BvbnNlID0gYXdhaXQgYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQ0xJTklDQUxVUkwgKyAiL3Bvc3QvYmFzaWMtbWFwcGluZyIsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHNvdXJjZTogc3JjLAogICAgICAgICAgICBzb3VyY2VfYXR0cmlidXRlOiBleHRWYXIsCiAgICAgICAgICAgIHRhcmdldDogaW50VmFyLAogICAgICAgICAgfSwKICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICAgICAgICB9KTsKICAgICAgICAvL2NvbnNvbGUubG9nKG1hcHBpbmdSZXNwb25zZSk7CiAgICAgICAgaWYgKG1hcHBpbmdSZXNwb25zZS5kYXRhWyJtZXNzYWdlIl0gPT0gIm9rIikgewogICAgICAgICAgdGhpcy5yb3dzID0gdGhpcy5yb3dzLmZpbHRlcigoZWxlbSkgPT4gZWxlbS5leHRWYXIgIT0gZXh0VmFyKTsgLy8gcmVtb3ZlIHRoZSByb3cgZnJvbSB0aGUgdGFibGUKICAgICAgICAgIE0udG9hc3QoeyBodG1sOiAiWW91IHN1Y2Nlc3NmdWxseSBtYXBwZWQ6ICIgKyBleHRWYXIgfSk7CiAgICAgICAgICBpZiAoaW50VmFyLnNwbGl0KCJ8IikubGVuZ3RoID4gMikgewogICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICBodG1sOgogICAgICAgICAgICAgICAgIllvdSBzdWNjZXNzZnVsbHkgYWRkZWQgdGVybSBmcm9tIE9MUzogIiArIGV4dFZhci5zcGxpdCgifCIpWzBdLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yTWVzc2FnZVRvcCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yVGV4dCIpLmlubmVyVGV4dCA9CiAgICAgICAgICAgIG1hcHBpbmdSZXNwb25zZS5kYXRhWyJtZXNzYWdlIl07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIE0udG9hc3QoeyBodG1sOiAiUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXQiIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfSwKCiAgICBjbG9zZUVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlcnJvck1lc3NhZ2VUb3AiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfSwKICAgIG9uUm93Q2xpY2s6IGFzeW5jIGZ1bmN0aW9uIChyb3cpIHsKICAgICAgdmFyIHRzID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIGlmICh0cyAtIHRoaXMub3Blbk1vZGFsVFMgPCAxMDAwKSB7CiAgICAgICAgLy8gcHJldmVudCByb3cgY2xpY2sgd2hlbiBzdWJtaXQgaXMgaW50ZW5kZWQgQGZ1dHVyZV9waGlsaXBwIDogZmVlbCBmcmVlIHRvIGltcGxlbWVudCBiZXR0ZXIgIQogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBmdW5jdGlvbiBleHRyYWN0Q29udGVudChzKSB7CiAgICAgICAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSBzOwogICAgICAgIHJldHVybiBzcGFuLnRleHRDb250ZW50IHx8IHNwYW4uaW5uZXJUZXh0OwogICAgICB9CgogICAgICAvLyBzZXR0aW5nIGRhdGEgdG8gcmVuZGVyIGl0IGludG8gdGhlIG1vZGVsIGJvZHkKICAgICAgdGhpcy5tb2RhbC5leHRWYXIgPSByb3cuZXh0VmFyOwogICAgICB0aGlzLm1vZGFsLmludFZhciA9IGV4dHJhY3RDb250ZW50KHJvdy5pbnRWYXIpOwogICAgICB0aGlzLm1vZGFsLnNvdXJjZSA9IHJvdy5zb3VyY2U7CiAgICAgIHRoaXMubW9kYWwub2xzVmFyID0gcm93Lm9sc1ZhcjsKCiAgICAgIHRoaXMub2xzQXV0b2NvbXBsZXRlID0ge307CiAgICAgIC8vIG9wZW4gbW9kYWwKICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIubW9kYWwiKVswXTsKICAgICAgdmFyIGluc3RhbmNlID0gTS5Nb2RhbC5nZXRJbnN0YW5jZShlbGVtKTsKICAgICAgYXdhaXQgaW5zdGFuY2Uub3BlbigpOwogICAgICBNLnVwZGF0ZVRleHRGaWVsZHMoKTsKICAgIH0sCgogICAgYWRkU3VnZ2VzdGlvbnM6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvd3MubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5yb3dzW2ldLmludFZhciA9PT0gIiIpIHsKICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KAogICAgICAgICAgICBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsKICAgICAgICAgICAgICAiL2dldC9uZWFyZXN0LW5laWdoYm9yP2F0dHJpYnV0ZT0iICsKICAgICAgICAgICAgICB0aGlzLnJvd3NbaV0uZXh0VmFyICsKICAgICAgICAgICAgICAiJm9scz0iICsKICAgICAgICAgICAgICB0aGlzLmluY2x1ZGVPTFMKICAgICAgICAgICk7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YVsiY2FuZGlkYXRlIl0gIT0gIi0tbm8tY2FuZGlkYXRlLS0iKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhWyJjYW5kaWRhdGUiXS5zcGxpdCgifCIpLmxlbmd0aCA+IDIpIHsKICAgICAgICAgICAgICAvLyBPTFMgVkFSCiAgICAgICAgICAgICAgdGhpcy5yb3dzW2ldLm9sc1ZhciA9IHJlc3BvbnNlLmRhdGFbImNhbmRpZGF0ZSJdOwoKICAgICAgICAgICAgICB0aGlzLmhhc1N1Z2dlc3Rpb25PbHMucHVzaCh0aGlzLnJvd3NbaV0ub2xzVmFyKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBWYXIgZnJvbSBiYWNrZW5kCgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhWyJkaXN0YW5jZSJdID49IDAuOCkgewogICAgICAgICAgICAgICAgdGhpcy5yb3dzW2ldLmludFZhciA9CiAgICAgICAgICAgICAgICAgICI8c3BhbiBjbGFzcz0nYmFkZ2UgYmx1ZScgc3R5bGU9J2NvbG9yOiB3aGl0ZSc+IiArCiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGFbImNhbmRpZGF0ZSJdICsKICAgICAgICAgICAgICAgICAgIjwvc3Bhbj4iOwogICAgICAgICAgICAgICAgLy90aGlzLnJvd3NbaV0uc3VnZ2VzdGlvbkRpc3RhbmNlID0gICI8c3BhbiBjbGFzcz0nYmFkZ2UgYmx1ZSc+IDwvc3Bhbj4iOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnJvd3NbaV0uaW50VmFyID0KICAgICAgICAgICAgICAgICAgIjxzcGFuIGNsYXNzPSdiYWRnZSBvcmFuZ2UnIHN0eWxlPSdjb2xvcjogd2hpdGUnPiIgKwogICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhWyJjYW5kaWRhdGUiXSArCiAgICAgICAgICAgICAgICAgICI8L3NwYW4+IjsKICAgICAgICAgICAgICAgIC8vdGhpcy5yb3dzW2ldLnN1Z2dlc3Rpb25EaXN0YW5jZSA9ICI8c3BhbiBjbGFzcz0nYmFkZ2Ugb3JhbmdlJz4gPC9zcGFuPiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuaGFzX3N1Z2dlc3Rpb24ucHVzaCh0aGlzLnJvd3NbaV0uZXh0VmFyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlbW92ZVN1Z2dlc3Rpb25zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucm93cwogICAgICAgIC5maWx0ZXIoKHJvdykgPT4gdGhpcy5oYXNfc3VnZ2VzdGlvbi5pbmNsdWRlcyhyb3cuZXh0VmFyKSkKICAgICAgICAuZm9yRWFjaCgocm93KSA9PiB7CiAgICAgICAgICByb3cuaW50VmFyID0gIiI7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuaGFzX3N1Z2dlc3Rpb24gPSBbXTsKICAgICAgdGhpcy5yb3dzCiAgICAgICAgLmZpbHRlcigocm93KSA9PiB0aGlzLmhhc1N1Z2dlc3Rpb25PbHMuaW5jbHVkZXMocm93Lm9sc1ZhcikpCiAgICAgICAgLmZvckVhY2goKHJvdykgPT4gewogICAgICAgICAgcm93Lm9sc1ZhciA9ICIiOwogICAgICAgIH0pOwogICAgICB0aGlzLmhhc1N1Z2dlc3Rpb25PbHMgPSBbXTsKICAgIH0sCiAgICBhbHRlclN1Z2dlc3Rpb25zOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnbG9iYWwtbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIGlmICh0aGlzLm1ha2VTdWdnZXN0aW9uKSB7CiAgICAgICAgdGhpcy5tYWtlU3VnZ2VzdGlvbiA9IGZhbHNlOwogICAgICAgIC8vIHRoaXMuY29sdW1ucy5zcGxpY2UoCiAgICAgICAgLy8gICB0aGlzLmNvbHVtbnMuaW5kZXhPZih7CiAgICAgICAgLy8gICAgIGxhYmVsOiAiU3VnZ2VzdGlvbiIsCiAgICAgICAgLy8gICAgIGZpZWxkOiAic3VnZ2VzdGlvbkRpc3RhbmNlIiwKICAgICAgICAvLyAgIH0pLAogICAgICAgIC8vICAgMQogICAgICAgIC8vICk7CiAgICAgICAgdGhpcy5yZW1vdmVTdWdnZXN0aW9ucygpOwogICAgICAgIE0udG9hc3QoeyBodG1sOiAiU3VnZ2VzdGlvbnMgZGlzYWJsZWQiIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubWFrZVN1Z2dlc3Rpb24gPSB0cnVlOwogICAgICAgIC8vdGhpcy5jb2x1bW5zLnB1c2goeyBsYWJlbDogIlN1Z2dlc3Rpb24iLCBmaWVsZDogInN1Z2dlc3Rpb25EaXN0YW5jZSIgLCBodG1sOiB0cnVlfSk7CiAgICAgICAgTS50b2FzdCh7IGh0bWw6ICJTZWFyY2hpbmcgZm9yIHN1Z2dlc3Rpb25zLi4uIiB9KTsKICAgICAgICBhd2FpdCB0aGlzLmFkZFN1Z2dlc3Rpb25zKCk7CiAgICAgICAgTS50b2FzdCh7IGh0bWw6ICJTdWdnZXN0aW9ucyBhZGRlZCB0byB0YWJsZSEiIH0pOwogICAgICB9CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnbG9iYWwtbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0sCiAgICBhbHRlck9MUzogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2xvYmFsLWxvYWRlciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICBpZiAodGhpcy5pbmNsdWRlT0xTKSB7CiAgICAgICAgLy9hd2FpdCB0aGlzLnJlbW92ZU9MU2Zyb21BdXRvY29tcGxldGUoKTsKICAgICAgICB0aGlzLmNvbHVtbnMuc3BsaWNlKAogICAgICAgICAgdGhpcy5jb2x1bW5zLmluZGV4T2YoeyBsYWJlbDogIk9MUyBWYXJpYWJsZSIsIGZpZWxkOiAib2xzVmFyIiB9KSwKICAgICAgICAgIDEKICAgICAgICApOwoKICAgICAgICB0aGlzLnJvd3MKICAgICAgICAgIC5maWx0ZXIoKHJvdykgPT4gdGhpcy5oYXNTdWdnZXN0aW9uT2xzLmluY2x1ZGVzKHJvdy5vbHNWYXIpKQogICAgICAgICAgLmZvckVhY2goKHJvdykgPT4gewogICAgICAgICAgICByb3cub2xzVmFyID0gIiI7CiAgICAgICAgICB9KTsKICAgICAgICB0aGlzLmhhc1N1Z2dlc3Rpb25PbHMgPSBbXTsKICAgICAgICB0aGlzLmluY2x1ZGVPTFMgPSBmYWxzZTsKICAgICAgICBNLnRvYXN0KHsgaHRtbDogIk9MUyBzZWFyY2ggZGlzYWJsZWQiIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vYXdhaXQgdGhpcy5hZGRPTFN0b0F1dG9jb21wbGV0ZSgpOwogICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHsgbGFiZWw6ICJPTFMgVmFyaWFibGUiLCBmaWVsZDogIm9sc1ZhciIgfSk7CiAgICAgICAgdGhpcy5pbmNsdWRlT0xTID0gdHJ1ZTsKICAgICAgICBpZiAodGhpcy5tYWtlU3VnZ2VzdGlvbikgewogICAgICAgICAgYXdhaXQgdGhpcy5hZGRTdWdnZXN0aW9ucygpOwogICAgICAgIH0KICAgICAgICBNLnRvYXN0KHsgaHRtbDogIk9MUyBzZWFyY2ggZW5hYmxlZCIgfSk7CiAgICAgIH0KICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdsb2JhbC1sb2FkZXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfSwKICAgIGFkZE9MU3RvQXV0b2NvbXBsZXRlOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIC8qKgogICAgICAgKiAKICAgICAgIFVzZSB0aGlzIGluIGNhc2UgQ09SUyBmYWlscwogICAgIHZhciBoZWFkZXJzID0gewogICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLAogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgfQogICAgKi8KICAgICAgdmFyIGlucHV0RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbHNWYXJNb2RhbCIpOwogICAgICB2YXIgdGVybSA9IGlucHV0RWxlbS52YWx1ZTsKCiAgICAgIHZhciBhZGRUb0F1dG9jb21wbGV0ZSA9IHt9OwoKICAgICAgY29uc3Qgb2xzUmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoCiAgICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9PTFNVUkwgKyBgYXBpL3NlbGVjdD9xPSR7dGVybX0mcm93cz0xMGAKICAgICAgKTsKICAgICAgdmFyIHJlc3BvbnNlT2JqID0gb2xzUmVzcG9uc2UuZGF0YS5yZXNwb25zZS5kb2NzOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IHJlc3BvbnNlT2JqLmxlbmd0aDsgaysrKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5yb3dzLmZpbHRlcigocm93KSA9PiB7CiAgICAgICAgICAgIHJvdy5pbnRWYXIgPT09IHJlc3BvbnNlT2JqW2tdWyJsYWJlbCJdOwogICAgICAgICAgfSkubGVuZ3RoID09IDAKICAgICAgICApIHsKICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHRoaXMgaXMgbm90IGFscmVhZHkgaW4gdGhlIGJhY2tlbmQKICAgICAgICAgIGFkZFRvQXV0b2NvbXBsZXRlWwogICAgICAgICAgICByZXNwb25zZU9ialtrXVsibGFiZWwiXSArCiAgICAgICAgICAgICAgInwiICsKICAgICAgICAgICAgICByZXNwb25zZU9ialtrXVsib250b2xvZ3lfbmFtZSJdICsKICAgICAgICAgICAgICAifCIgKwogICAgICAgICAgICAgIHJlc3BvbnNlT2JqW2tdWyJpcmkiXQogICAgICAgICAgXSA9IG51bGw7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIGFkZCB0aGUgcmVzdWx0cyB0byBhdXRvY29tcGxldGUKICAgICAgdGhpcy5vbHNBdXRvY29tcGxldGUgPSBhZGRUb0F1dG9jb21wbGV0ZTsKICAgICAgdmFyIGluc3RhbmNlID0gTS5BdXRvY29tcGxldGUuZ2V0SW5zdGFuY2UoCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9sc1Zhck1vZGFsIikKICAgICAgKTsKICAgICAgaW5zdGFuY2UudXBkYXRlRGF0YShhZGRUb0F1dG9jb21wbGV0ZSk7CiAgICB9LAoKICAgIGxvYWRBdHRyQW5kU291cmNlRnJvbUJhY2tlbmQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgICBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9nZXQvYXR0cmlidXRlcy9hbGwiCiAgICAgICk7CiAgICAgIGNvbnN0IHNvdXJjZXNfYWxsID0gYXdhaXQgYXhpb3MuZ2V0KAogICAgICAgIHByb2Nlc3MuZW52LlZVRV9BUFBfQ0xJTklDQUxVUkwgKyAiL2dldC9zb3VyY2VzL2FsbCIKICAgICAgKTsKCiAgICAgIHZhciBzb3VyY2VPYmogPSB7fTsKICAgICAgc291cmNlc19hbGxbImRhdGEiXVsic291cmNlcyJdLmZvckVhY2goKGVsZW0pID0+IHsKICAgICAgICBzb3VyY2VPYmpbZWxlbV0gPSBudWxsOwogICAgICB9KTsKCiAgICAgIHZhciBhdHRyT2JqID0ge307CiAgICAgIGF0dHJpYnV0ZXNbImRhdGEiXVsiYXR0cmlidXRlcyJdLmZvckVhY2goKGF0dHIpID0+IHsKICAgICAgICBhdHRyT2JqW2F0dHIubmFtZV0gPSBudWxsOwogICAgICB9KTsKICAgICAgdGhpcy5hdHRyT2JqID0gYXR0ck9iajsKICAgICAgdGhpcy5zb3VyY2VPYmogPSBzb3VyY2VPYmo7CiAgICB9LAogICAgcmVtb3ZlT0xTZnJvbUF1dG9jb21wbGV0ZTogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICBhd2FpdCB0aGlzLmxvYWRBdHRyQW5kU291cmNlRnJvbUJhY2tlbmQoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["DataMapper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataMapper.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container pt-10\" id=\"main_container\">\n    <div id=\"global-loader\" class=\"global-loader\">\n      <div class=\"loader-elem\">\n        <atomspinner :size=\"80\" color=\"#5AA8EA\" />\n        <p id=\"loader-text\">updating...</p>\n      </div>\n    </div>\n    <div id=\"errorMessageTop\" style=\"display: none\">\n      <div class=\"materialert error\">\n        <i class=\"material-icons\">report_problem</i>\n        <span id=\"errorText\"></span>\n        <button type=\"button\" class=\"close-alert\" @click=\"closeError()\">\n          Ã—\n        </button>\n      </div>\n    </div>\n    <h2 class=\"mb-30\">\n      Mapping Assistant\n      <a class=\"tooltipped\" data-position=\"bottom\" :data-tooltip=\"helpText\"\n        ><i class=\"material-icons\">help_outline</i></a\n      >\n    </h2>\n\n    <div class=\"row\">\n      <div class=\"col\" v-if=\"checkForSingleSource()\">\n        <button\n          class=\"btn waves-effect waves-light blue-grey lighten-1\"\n          @click=\"fillSources()\"\n        >\n          Fill sources\n        </button>\n      </div>\n      <div class=\"col\">\n        <p>\n          <label>\n            <input\n              type=\"checkbox\"\n              class=\"filled-in\"\n              id=\"suggestion_checkbox\"\n              @change=\"alterSuggestions()\"\n            />\n            <span>Make suggestions</span>\n          </label>\n        </p>\n      </div>\n      <div class=\"col\">\n        <p>\n          <label>\n            <input type=\"checkbox\" class=\"filled-in\" @change=\"alterOLS()\" />\n            <span>Include OLS</span>\n          </label>\n        </p>\n      </div>\n      <div v-if=\"makeSuggestion == true\" class=\"col\">\n        <span class=\"badge blue\" style=\"color: white\">matched &#62; 80%</span>\n        <span class=\"badge orange\" style=\"color: white\">matched &#60; 80%</span>\n      </div>\n\n      <!-- \n\n            Modal for editing the row\n        -->\n\n      <div id=\"modal1\" class=\"modal\">\n        <div class=\"modal-content\">\n          <h4>Edit mapping for {{ modal.extVar }}</h4>\n\n          <div class=\"row\">\n            <div class=\"input-field col s6\">\n              <label for=\"sourceModal\">Source</label>\n              <input\n                class=\"autocomplete_source\"\n                type=\"text\"\n                id=\"sourceModal\"\n                :value=\"modal.source\"\n                @change=\"alterSource()\"\n              />\n            </div>\n            <div class=\"input-field col s6\">\n              <label for=\"sourceModal\">External Variable</label>\n              <input\n                type=\"text\"\n                id=\"extVarModal\"\n                :value=\"modal.extVar\"\n                readonly\n              />\n            </div>\n          </div>\n          <div v-if=\"includeOLS == true\" class=\"row\">\n            <div class=\"input-field col s6\">\n              <label for=\"sourceModal\">Internal Variable</label>\n              <input\n                class=\"autocomplete\"\n                type=\"text\"\n                id=\"intVarModal\"\n                :value=\"modal.intVar\"\n                @change=\"alterIntVar()\"\n              />\n            </div>\n            <div class=\"input-field col s6\">\n              <label for=\"sourceModal\">OLS Variable</label>\n\n              <input\n                @input=\"addOLStoAutocomplete()\"\n                class=\"ols_autocomplete\"\n                type=\"text\"\n                id=\"olsVarModal\"\n                :value=\"modal.olsVar\"\n                @change=\"alterOLSVar()\"\n              />\n            </div>\n          </div>\n          <div v-else class=\"row\">\n            <div class=\"input-field col s10\">\n              <label for=\"sourceModal\">Internal Variable</label>\n              <input\n                class=\"autocomplete\"\n                type=\"text\"\n                id=\"intVarModal\"\n                :value=\"modal.intVar\"\n                @change=\"alterIntVar()\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <a class=\"modal-close waves-effect waves-green btn-flat\" href=\"#!\">\n            Ok\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <datatable\n      title=\"Add mappings (Click on rows to edit)\"\n      :columns=\"columns\"\n      :rows=\"rows\"\n      v-on:row-click=\"onRowClick\"\n    >\n      <th slot=\"thead-tr\">Actions</th>\n      <template slot=\"tbody-tr\" scope=\"props\">\n        <td>\n          <button\n            class=\"btn waves-effect waves-light blue-grey lighten-1\"\n            @click=\"(e) => submitMapping(props.row, e)\"\n          >\n            Edit mappings<i class=\"material-icons white-text\">send</i>\n          </button>\n        </td>\n      </template>\n    </datatable>\n  </div>\n</template>\n\n<script>\nimport { AtomSpinner } from \"epic-spinners\";\nimport axios from \"axios\";\nimport DataTable from \"vue-materialize-datatable\";\nimport M from \"materialize-css\";\n\nexport default {\n  components: {\n    datatable: DataTable,\n    atomspinner: AtomSpinner,\n  },\n  data: function () {\n    return {\n      openModalTS: \"\",\n      helpText:\n        \"This assistant provides help for mapping variaables. The list below provides all variables in the dataset uploaded, that yould not be found in the current system or there was no suitable mapping onto a variable currently in the system. The assistant provides a suggestion system and backup support from OLS (Ontology Lookup System). Enable the two checkboxes below to activate these features. Try and prefferedly choose those variables that are already in the system and if nothing fits your data import one from OLS. If there is not suitable variable in OLS then you can go to the Model Wizard and add a variable by hand.\",\n      attrObj: {},\n      olsAutocomplete: {},\n      sourceObj: {},\n      has_suggestion: [],\n      modal: {\n        extVar: \"\",\n        intVar: \"\",\n        source: \"\",\n        olsVar: \"\",\n      },\n      hasSuggestionOls: [],\n\n      makeSuggestion: false,\n      includeOLS: false,\n      columns: [\n        { label: \"Source\", field: \"source\" },\n        { label: \"External Variable\", field: \"extVar\" },\n        { label: \"Internal Variable\", field: \"intVar\", html: true },\n      ],\n      rows: [],\n    };\n  },\n  async created() {\n    const response = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/all-attr-unmapped\"\n    );\n    for (var i = 0; i < response.data[\"datapoints\"].length; i++) {\n      this.rows.push({\n        source: \"\",\n        extVar: response.data[\"datapoints\"][i],\n        intVar: \"\",\n        olsVar: \"\",\n      });\n    }\n    await this.loadAttrAndSourceFromBackend();\n  },\n\n  mounted: function () {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      var elems = document.querySelectorAll(\".modal\");\n      M.Modal.init(elems);\n      M.Tooltip.init(document.querySelectorAll(\".tooltipped\"));\n    });\n    if (window.innerWidth <= 1300) {\n      document.getElementById(\"main_container\").classList.remove(\"container\");\n      document.getElementById(\"main_container\").classList.add(\"px-4\");\n    } else {\n      document.getElementById(\"main_container\").classList.add(\"container\");\n      document.getElementById(\"main_container\").classList.remove(\"px-4\");\n    }\n    window.onresize = function () {\n      if (window.innerWidth <= 1300) {\n        document.getElementById(\"main_container\").classList.remove(\"container\");\n        document.getElementById(\"main_container\").classList.add(\"px-4\");\n      } else {\n        document.getElementById(\"main_container\").classList.add(\"container\");\n        document.getElementById(\"main_container\").classList.remove(\"px-4\");\n      }\n    };\n  },\n\n  updated: function () {\n    // autocomplete\n    console.debug(\"Loading autocomplete...\");\n    var elems = document.querySelectorAll(\".autocomplete\");\n\n    M.Autocomplete.init(elems, { data: this.attrObj });\n\n    var elems_source = document.querySelectorAll(\".autocomplete_source\");\n    M.Autocomplete.init(elems_source, { data: this.sourceObj });\n\n    var elems_ols = document.querySelector(\".ols_autocomplete\");\n    M.Autocomplete.init(elems_ols, { data: this.olsAutocomplete });\n  },\n\n  methods: {\n    checkForSingleSource: function () {\n      function onlyUnique(value, index, self) {\n        return self.indexOf(value) === index;\n      }\n      var sources = [];\n      this.rows.forEach((row) => {\n        sources.push(row.source);\n      });\n      sources = sources.filter((src) => src != \"\");\n      var filteredSources = sources.filter(onlyUnique);\n\n      return filteredSources.length == 1;\n    },\n    fillSources: function () {\n      console.debug(\"filling sources...\");\n      document.getElementById(\"global-loader\").style.display = \"block\";\n      if (this.checkForSingleSource()) {\n        var src = this.rows.filter((row) => row.source != \"\")[0].source;\n        this.rows.forEach((row) => (row.source = src));\n        M.toast({ html: `Successfully filled sources with ${src}` });\n        document.getElementById(\"global-loader\").style.display = \"none\";\n      } else {\n        console.debug(\"Sources not unique\");\n        document.getElementById(\"global-loader\").style.display = \"none\";\n        return;\n      }\n    },\n    checkValid: (literal) => {\n      if (literal == null) {\n        return false;\n      }\n      if (literal == \"\") {\n        return false;\n      }\n      return true;\n    },\n    alterIntVar: function () {\n      var row = this.rows.find((elem) => elem.extVar == this.modal.extVar);\n      row.intVar = document.getElementById(\"intVarModal\").value;\n      this.modal.intVar = document.getElementById(\"intVarModal\").value;\n      return;\n    },\n    alterOLSVar: function () {\n      var row = this.rows.find((elem) => elem.extVar == this.modal.extVar);\n      row.olsVar = document.getElementById(\"olsVarModal\").value;\n      this.modal.olsVar = document.getElementById(\"olsVarModal\").value;\n      return;\n    },\n    alterSource: function () {\n      var row = this.rows.find((elem) => elem.extVar == this.modal.extVar);\n      row.source = document.getElementById(\"sourceModal\").value;\n      this.modal.source = document.getElementById(\"sourceModal\").value;\n      return;\n    },\n    alterTrans: function () {\n      var row = this.rows.find((elem) => elem.extVar == this.modal.extVar);\n      row.trans = document.getElementById(\"transModal\").value;\n      return;\n    },\n    extractContent: function(s) {\n  var span = document.createElement('span');\n  span.innerHTML = s;\n  return span.textContent || span.innerText;\n},\n\n    submitMapping: async function (props, e) {\n      this.openModalTS = new Date().getTime();\n\n    \n\n      e.preventDefault(); // does not prevent modal from opening...\n      var extVar = props.extVar;\n      var intVar = this.extractContent(props.intVar);\n      console.log(intVar);\n      var src = props.source;\n      var olsVar = props.olsVar;\n\n      //console.log(extVar,intVar, src);\n      /*var trans = props.trans;*/\n      if (\n        (this.checkValid(extVar) &&\n          this.checkValid(intVar) &&\n          this.checkValid(src) &&\n          !this.checkValid(olsVar)) ||\n        (this.checkValid(extVar) &&\n          !this.checkValid(intVar) &&\n          this.checkValid(src) &&\n          this.checkValid(olsVar))\n        /* this.checkValid(trans) this is maybe optional */\n      ) {\n        // mapping\n        if (this.checkValid(olsVar)) {\n          intVar = olsVar;\n        }\n        const mappingResponse = await axios({\n          method: \"post\",\n          url: process.env.VUE_APP_CLINICALURL + \"/post/basic-mapping\",\n          data: {\n            source: src,\n            source_attribute: extVar,\n            target: intVar,\n          },\n          withCredentials: true,\n        });\n        //console.log(mappingResponse);\n        if (mappingResponse.data[\"message\"] == \"ok\") {\n          this.rows = this.rows.filter((elem) => elem.extVar != extVar); // remove the row from the table\n          M.toast({ html: \"You successfully mapped: \" + extVar });\n          if (intVar.split(\"|\").length > 2) {\n            M.toast({\n              html:\n                \"You successfully added term from OLS: \" + extVar.split(\"|\")[0],\n            });\n          }\n        } else {\n          document.getElementById(\"errorMessageTop\").style.display = \"block\";\n          document.getElementById(\"errorText\").innerText =\n            mappingResponse.data[\"message\"];\n        }\n      } else {\n        M.toast({ html: \"Please check your input\" });\n        return;\n      }\n    },\n\n    closeError: function () {\n      document.getElementById(\"errorMessageTop\").style.display = \"none\";\n    },\n    onRowClick: async function (row) {\n      var ts = new Date().getTime();\n      if (ts - this.openModalTS < 1000) {\n        // prevent row click when submit is intended @future_philipp : feel free to implement better !\n        return;\n      }\n      function extractContent(s) {\n        var span = document.createElement(\"span\");\n        span.innerHTML = s;\n        return span.textContent || span.innerText;\n      }\n\n      // setting data to render it into the model body\n      this.modal.extVar = row.extVar;\n      this.modal.intVar = extractContent(row.intVar);\n      this.modal.source = row.source;\n      this.modal.olsVar = row.olsVar;\n\n      this.olsAutocomplete = {};\n      // open modal\n      var elem = document.querySelectorAll(\".modal\")[0];\n      var instance = M.Modal.getInstance(elem);\n      await instance.open();\n      M.updateTextFields();\n    },\n\n    addSuggestions: async function () {\n      for (var i = 0; i < this.rows.length; i++) {\n        if (this.rows[i].intVar === \"\") {\n          const response = await axios.get(\n            process.env.VUE_APP_CLINICALURL +\n              \"/get/nearest-neighbor?attribute=\" +\n              this.rows[i].extVar +\n              \"&ols=\" +\n              this.includeOLS\n          );\n          if (response.data[\"candidate\"] != \"--no-candidate--\") {\n            if (response.data[\"candidate\"].split(\"|\").length > 2) {\n              // OLS VAR\n              this.rows[i].olsVar = response.data[\"candidate\"];\n\n              this.hasSuggestionOls.push(this.rows[i].olsVar);\n            } else {\n              // Var from backend\n\n              if (response.data[\"distance\"] >= 0.8) {\n                this.rows[i].intVar =\n                  \"<span class='badge blue' style='color: white'>\" +\n                  response.data[\"candidate\"] +\n                  \"</span>\";\n                //this.rows[i].suggestionDistance =  \"<span class='badge blue'> </span>\";\n              } else {\n                this.rows[i].intVar =\n                  \"<span class='badge orange' style='color: white'>\" +\n                  response.data[\"candidate\"] +\n                  \"</span>\";\n                //this.rows[i].suggestionDistance = \"<span class='badge orange'> </span>\";\n              }\n              this.has_suggestion.push(this.rows[i].extVar);\n            }\n          }\n        }\n      }\n    },\n    removeSuggestions: function () {\n      this.rows\n        .filter((row) => this.has_suggestion.includes(row.extVar))\n        .forEach((row) => {\n          row.intVar = \"\";\n        });\n      this.has_suggestion = [];\n      this.rows\n        .filter((row) => this.hasSuggestionOls.includes(row.olsVar))\n        .forEach((row) => {\n          row.olsVar = \"\";\n        });\n      this.hasSuggestionOls = [];\n    },\n    alterSuggestions: async function () {\n      document.getElementById(\"global-loader\").style.display = \"block\";\n      if (this.makeSuggestion) {\n        this.makeSuggestion = false;\n        // this.columns.splice(\n        //   this.columns.indexOf({\n        //     label: \"Suggestion\",\n        //     field: \"suggestionDistance\",\n        //   }),\n        //   1\n        // );\n        this.removeSuggestions();\n        M.toast({ html: \"Suggestions disabled\" });\n      } else {\n        this.makeSuggestion = true;\n        //this.columns.push({ label: \"Suggestion\", field: \"suggestionDistance\" , html: true});\n        M.toast({ html: \"Searching for suggestions...\" });\n        await this.addSuggestions();\n        M.toast({ html: \"Suggestions added to table!\" });\n      }\n      document.getElementById(\"global-loader\").style.display = \"none\";\n    },\n    alterOLS: async function () {\n      document.getElementById(\"global-loader\").style.display = \"block\";\n      if (this.includeOLS) {\n        //await this.removeOLSfromAutocomplete();\n        this.columns.splice(\n          this.columns.indexOf({ label: \"OLS Variable\", field: \"olsVar\" }),\n          1\n        );\n\n        this.rows\n          .filter((row) => this.hasSuggestionOls.includes(row.olsVar))\n          .forEach((row) => {\n            row.olsVar = \"\";\n          });\n        this.hasSuggestionOls = [];\n        this.includeOLS = false;\n        M.toast({ html: \"OLS search disabled\" });\n      } else {\n        //await this.addOLStoAutocomplete();\n        this.columns.push({ label: \"OLS Variable\", field: \"olsVar\" });\n        this.includeOLS = true;\n        if (this.makeSuggestion) {\n          await this.addSuggestions();\n        }\n        M.toast({ html: \"OLS search enabled\" });\n      }\n      document.getElementById(\"global-loader\").style.display = \"none\";\n    },\n    addOLStoAutocomplete: async function () {\n      /**\n       * \n       Use this in case CORS fails\n     var headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json',\n    }\n    */\n      var inputElem = document.getElementById(\"olsVarModal\");\n      var term = inputElem.value;\n\n      var addToAutocomplete = {};\n\n      const olsResponse = await axios.get(\n        process.env.VUE_APP_OLSURL + `api/select?q=${term}&rows=10`\n      );\n      var responseObj = olsResponse.data.response.docs;\n      for (var k = 0; k < responseObj.length; k++) {\n        if (\n          this.rows.filter((row) => {\n            row.intVar === responseObj[k][\"label\"];\n          }).length == 0\n        ) {\n          // make sure that this is not already in the backend\n          addToAutocomplete[\n            responseObj[k][\"label\"] +\n              \"|\" +\n              responseObj[k][\"ontology_name\"] +\n              \"|\" +\n              responseObj[k][\"iri\"]\n          ] = null;\n        }\n      }\n      // add the results to autocomplete\n      this.olsAutocomplete = addToAutocomplete;\n      var instance = M.Autocomplete.getInstance(\n        document.getElementById(\"olsVarModal\")\n      );\n      instance.updateData(addToAutocomplete);\n    },\n\n    loadAttrAndSourceFromBackend: async function () {\n      const attributes = await axios.get(\n        process.env.VUE_APP_CLINICALURL + \"/get/attributes/all\"\n      );\n      const sources_all = await axios.get(\n        process.env.VUE_APP_CLINICALURL + \"/get/sources/all\"\n      );\n\n      var sourceObj = {};\n      sources_all[\"data\"][\"sources\"].forEach((elem) => {\n        sourceObj[elem] = null;\n      });\n\n      var attrObj = {};\n      attributes[\"data\"][\"attributes\"].forEach((attr) => {\n        attrObj[attr.name] = null;\n      });\n      this.attrObj = attrObj;\n      this.sourceObj = sourceObj;\n    },\n    removeOLSfromAutocomplete: async function () {\n      await this.loadAttrAndSourceFromBackend();\n    },\n  },\n};\n</script>\n\n<style>\n.global-loader {\n  position: absolute;\n  display: none;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(220, 220, 220, 0.5);\n}\n.loader-elem {\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.materialert {\n  position: relative;\n  min-width: 150px;\n  padding: 15px;\n  margin-bottom: 20px;\n  margin-top: 15px;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  transition: all 0.1s linear;\n  webkit-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.materialert .material-icons {\n  margin-right: 10px;\n}\n.materialert .close-alert {\n  -webkit-appearance: none;\n  border: 0;\n  cursor: pointer;\n  color: inherit;\n  background: 0 0;\n  font-size: 22px;\n  line-height: 1;\n  font-weight: bold;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.7);\n  filter: alpha(opacity=40);\n  margin-bottom: -5px;\n  position: absolute;\n  top: 16px;\n  right: 5px;\n}\n.materialert.info {\n  background-color: #039be5;\n  color: #fff;\n}\n.materialert.success {\n  background-color: #43a047;\n  color: #fff;\n}\n.materialert.error {\n  background-color: #c62828;\n  color: #fff;\n}\n.materialert.danger {\n  background-color: #c62828;\n  color: #fff;\n}\n.materialert.warning {\n  background-color: #fbc02d;\n  color: #fff;\n}\n</style>"]}]}