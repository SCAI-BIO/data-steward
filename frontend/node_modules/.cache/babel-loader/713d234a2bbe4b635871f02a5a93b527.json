{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataModelEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DataModelEdit.vue","mtime":1626075497077},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9waGlsaXBwd2VnbmVyL0Rlc2t0b3AvRnJhdW5ob2Zlci9TRU0tR3JvdXAvZ2l0L2RhdGEtc3Rld2FyZC10b29sL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheCBmcm9tICJheGlvcyI7CnZhciBheGlvcyA9IGF4OwppbXBvcnQgTSBmcm9tICJtYXRlcmlhbGl6ZS1jc3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImVkaXREYXRhbW9kZWwiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdHRyczogW10sCiAgICAgIHNvdXJjZXM6IFtdLAogICAgICB1bml0czogW10sCiAgICAgIGFkZENvZGVUYWJsZVJvd051bTogMQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICB2YXIgdW5pdHMsIHVuaXRzQXNKc29uLCBhdHRyaWJ1dGVzLCBzb3VyY2VzX2FsbCwgYXV0b0NvbXBsZXRlRGF0YSwgYXV0b0NvbXBsZXRlT3B0aW9ucywgZWxlbXMsIGVsZW1zTW9kYWwsIGFkZENvZGVUYWJsZVJvd3M7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L3VuaXRzIik7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgdW5pdHMgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgICB1bml0c0FzSnNvbiA9IEpTT04ucGFyc2UodW5pdHMuZGF0YVsidW5pdHMiXSk7CiAgICAgICAgICAgICAgdW5pdHNBc0pzb24uZm9yRWFjaChmdW5jdGlvbiAodW5pdCkgewogICAgICAgICAgICAgICAgX3RoaXMudW5pdHMucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IHVuaXRbInBrIl0sCiAgICAgICAgICAgICAgICAgIFVDVU06IHVuaXRbImZpZWxkcyJdWyJVQ1VNIl0sCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB1bml0WyJmaWVsZHMiXVsiRGVzY3JpcHRpb24iXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2F0dHJpYnV0ZXMvYWxsIik7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9nZXQvc291cmNlcy9hbGwiKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgc291cmNlc19hbGwgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGF0dHJpYnV0ZXNbJ2RhdGEnXVsnYXR0cmlidXRlcyddKTsKICAgICAgICAgICAgICBhdHRyaWJ1dGVzWyJkYXRhIl1bImF0dHJpYnV0ZXMiXS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5hdHRycy5wdXNoKGVsZW1lbnRbIm5hbWUiXSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlRGF0YSA9IHt9OwoKICAgICAgICAgICAgICBfdGhpcy5hdHRycy5mb3JFYWNoKGZ1bmN0aW9uIChhdHQpIHsKICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZURhdGFbYXR0XSA9IG51bGw7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBkYXRhOiBhdXRvQ29tcGxldGVEYXRhCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBNLlRhYnMuaW5pdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIudGFicyIpKTsKICAgICAgICAgICAgICBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5hdXRvY29tcGxldGUiKTsKICAgICAgICAgICAgICBNLkF1dG9jb21wbGV0ZS5pbml0KGVsZW1zLCBhdXRvQ29tcGxldGVPcHRpb25zKTsKICAgICAgICAgICAgICBlbGVtc01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLm1vZGFsIik7CiAgICAgICAgICAgICAgTS5Nb2RhbC5pbml0KGVsZW1zTW9kYWwpOwogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWJtaXRfYWRkX2F0dHIiKS5vbmNsaWNrID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSwgaGVhZGVyLCB2YWwsIHJlc3A7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gTS5Nb2RhbC5nZXRJbnN0YW5jZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9kYWxfYXR0cl9hZGQiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyaWJ1dGVfbmFtZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX25ldyIpLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh2YWwgIT0gbnVsbCAmJiB2YWwgIT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9nZXQvY2hlY2stYXR0ciIgKyAiP2F0dHJfbmFtZT0iICsgdmFsKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcFsiZGF0YSJdWyJtZXNzYWdlIl0gPT0gInRha2VuIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICJBdHRyaWJ1dGUgTmFtZSBhbHJlYWR5IHRha2VuISIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXdfYXR0cl9hdHRyaWJ1dGUiKS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgdmFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgTS51cGRhdGVUZXh0RmllbGRzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLm9wZW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAiUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXQhIgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICBDbGljayBvbiBhZGQgY29kZSBtYXBwaW5nCiAgICAgICAgICAgICAgICovCgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2RlX21hcHBpbmdfYWRkX2J0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgY29kZU1hcHBpbmdOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZGVfbWFwcGluZ19pbnB1dCIpLnZhbHVlOwogICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb2RhbF9hZGRfY29kZV9tYXBwaW5nIikpOwoKICAgICAgICAgICAgICAgIGlmIChjb2RlTWFwcGluZ05hbWUgPT0gbnVsbCB8fCBjb2RlTWFwcGluZ05hbWUgPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogIlBsZWFzZSBwcm92aWRlIGEgdmFsaWQgQ29kZS1NYXBwaW5nIG5hbWUhIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5vcGVuKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgKiBDbGljayBvbiB1bml0IGFkZAogICAgICAgICAgICAgICAqIGFkZGluZyB1bml0CiAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAqLwoKCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuaXRfYWRkX2J0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgdW5pdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidW5pdCIpLnZhbHVlOwoKICAgICAgICAgICAgICAgIGlmICh1bml0TmFtZSA9PSBudWxsIHx8IHVuaXROYW1lID09ICIiKSB7CiAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6ICJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHVuaXQgbmFtZSEiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9IE0uTW9kYWwuZ2V0SW5zdGFuY2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vZGFsX2FkZF91bml0IikpOwogICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyVW5pdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuaXRfbmFtZV9oZWFkZXIiKTsKICAgICAgICAgICAgICAgICAgaGVhZGVyVW5pdE1vZGFsLmlubmVyVGV4dCA9IHVuaXROYW1lOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidW5pdF9uYW1lIikudmFsdWUgPSB1bml0TmFtZTsKICAgICAgICAgICAgICAgICAgTS51cGRhdGVUZXh0RmllbGRzKCk7CiAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2Uub3BlbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgKiBzdWJtaXQgdW5pdCBhZGQKICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAqLwoKCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm1fYWRkX3VuaXQiKS5vbnN1Ym1pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGUpIHsKICAgICAgICAgICAgICAgICAgdmFyIHVuaXROYW1lLCBmb3JtRGF0YSwgdW5pdFVwbG9hZFJlc3BvbnNlLCBtb2RhbEluc3RhbmNlOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuaXQiKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvcG9zdC91bml0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdFVwbG9hZFJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHVuaXRVcGxvYWRSZXNwb25zZS5kYXRhWyJtZXNzYWdlIl0gPT0gIm9rIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb2RhbF9hZGRfdW5pdCIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAiWW91IHN1Y2Nlc3NmdWxseSBhZGRlZCBhIHVuaXQ6ICIgKyB1bml0TmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuaXRfZXJyb3JfbWVzc2FnZSIpLmlubmVyVGV4dCA9ICJTb21ldGhpbmcgd2VudCB3cm9uZy4uLiB0cnkgYWdhaW4gb3IgY29udGFjdCB0aGUgc3VwcG9ydC4iOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogQ2xpY2sgb24gY29kZSBhZGQKICAgICAgICAgICAgICAgKiBBZGRpbmcgQ29kZQogICAgICAgICAgICAgICAqIENvZGUgYWRkCiAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgKi8KCgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2RlX2FkZF9idG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGNvZGVOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZGUiKS52YWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAoY29kZU5hbWUgPT0gbnVsbCB8fCBjb2RlTmFtZSA9PSAiIikgewogICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiAiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBjb2RlIG5hbWUhIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb2RhbF9hZGRfY29kZSIpKTsKICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlckNvZGVNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2RlX25hbWVfaGVhZGVyIik7CiAgICAgICAgICAgICAgICAgIGhlYWRlckNvZGVNb2RhbC5pbm5lclRleHQgPSBjb2RlTmFtZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZGVfbmFtZSIpLnZhbHVlID0gY29kZU5hbWU7CiAgICAgICAgICAgICAgICAgIE0udXBkYXRlVGV4dEZpZWxkcygpOwogICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLm9wZW4oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIEFkZGluZyByb3dzIGluIGFkZCBjb2RlIGRpYWxvZwogICAgICAgICAgICAgICAqIGFkZCByb3cKICAgICAgICAgICAgICAgKiBhZGQgY29kZSBrZXkgdmFsdWUKICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICovCgoKICAgICAgICAgICAgICBhZGRDb2RlVGFibGVSb3dzID0gX3RoaXMuYWRkQ29kZVRhYmxlUm93TnVtOwoKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkX2NvZGVfcm93X2J0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmxlX2JvZHlfY29kZSIpOwogICAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgICB2YXIgdGRLZXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwogICAgICAgICAgICAgICAgdmFyIHRkVmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgICAgIHZhciBpbnB1dEtleSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgICAgICAgICAgICB2YXIgaW5wdXRWYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgICAgICAgICAgaW5wdXRLZXkuc2V0QXR0cmlidXRlKCJuYW1lIiwgImtleV8iICsgU3RyaW5nKGFkZENvZGVUYWJsZVJvd3MgKyAxKSk7CiAgICAgICAgICAgICAgICBpbnB1dFZhbC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCAidmFsXyIgKyBTdHJpbmcoYWRkQ29kZVRhYmxlUm93cyArIDEpKTsKICAgICAgICAgICAgICAgIHRkS2V5LmFwcGVuZENoaWxkKGlucHV0S2V5KTsKICAgICAgICAgICAgICAgIHRkVmFsLmFwcGVuZENoaWxkKGlucHV0VmFsKTsKICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZCh0ZEtleSk7CiAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQodGRWYWwpOwogICAgICAgICAgICAgICAgdGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7CiAgICAgICAgICAgICAgICBhZGRDb2RlVGFibGVSb3dzKys7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgKiBTdWJtaXQgb2YgY29kZSBhcHAgZm9ybQogICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgKi8KCgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtX2FkZF9jb2RlIikub25zdWJtaXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhlKSB7CiAgICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSwgY29kZVVwbG9hZFJlc3BvbnNlLCBtb2RhbEluc3RhbmNlLCBjb2RlTmFtZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvcG9zdC9jb2RlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZVVwbG9hZFJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGNvZGVVcGxvYWRSZXNwb25zZS5zdGF0dXMgPT0gMjAwICYmIGNvZGVVcGxvYWRSZXNwb25zZS5kYXRhWyJtZXNzYWdlIl0gPT0gIm9rIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb2RhbF9hZGRfY29kZSIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29kZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogIllvdSBzdWNjZXNzZnVsbHkgYWRkZWQgYSBjb2RlOiAiICsgY29kZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZGUiKS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yIGFkZGluZyBjb2RlLiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2RlX2Vycm9yX21lc3NhZ2UiKS5pbm5lclRleHQgPSAiU29tZXRoaW5nIHdlbnQgd3JvbmcuLi4uIFRyeSBhZ2FpbiBvciBjb250YWN0IHRoZSBzdXBwb3J0LiI7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRfYXR0ciIpLm9uc3VibWl0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoZSkgewogICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgICAgICAgICAgIHZhciBmb3JtX2RhdGEsIHBvc3RBdHRyaWJ1dGUsIGluc3RhbmNlLCBfYXR0cmlidXRlcywgX2F1dG9Db21wbGV0ZURhdGEsIGF1dG9Db21wbGV0ZU9wdGlvbnMsIGVsZW1zOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZF9hdHRyX2J0biIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZF9hdHRyX2xvYWRlciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkX2F0dHIiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZm9ybV9kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9wb3N0L2F0dHJpYnV0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtX2RhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0QXR0cmlidXRlID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBvc3RBdHRyaWJ1dGVbImRhdGEiXVsibWVzc2FnZSJdID09ICJvayIgJiYgcG9zdEF0dHJpYnV0ZS5zdGF0dXMgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb2RhbF9hdHRyX2FkZCIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRfYXR0cl9idG4iKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkX2F0dHJfbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkX2F0dHIiKS5yZXNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogIllvdSBjcmVhdGVkIGEgbmV3IEF0dHJpYnV0ZTogIiArIGZvcm1fZGF0YS5nZXQoImF0dHJpYnV0ZSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfQ0xJTklDQUxVUkwgKyAiL2dldC9hdHRyaWJ1dGVzL2FsbCIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgICAgICAgICBfYXR0cmlidXRlcyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfYXR0cmlidXRlc1siZGF0YSJdWyJhdHRyaWJ1dGVzIl0uZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmF0dHJzLnB1c2goZWxlbWVudFsibmFtZSJdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX2F1dG9Db21wbGV0ZURhdGEgPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGF0dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2F1dG9Db21wbGV0ZURhdGFbYXR0XSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlT3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IF9hdXRvQ29tcGxldGVEYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5hdXRvY29tcGxldGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBNLkF1dG9jb21wbGV0ZS5pbml0KGVsZW1zLCBhdXRvQ29tcGxldGVPcHRpb25zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU29tZXRoaW5nIHdlbnQgd3JvbmcuLi4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkX2F0dHJfbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3JfYWRkIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX2FkZCIpLmlubmVySFRNTCArPSAiOiAiICsgcG9zdEF0dHJpYnV0ZVsiZGF0YSJdWyJtZXNzYWdlIl07CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWJtaXRfbWFwcGluZyIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb2RhbF9hZGRfbWFwcGluZyIpKTsKICAgICAgICAgICAgICAgIHZhciBhdHRyMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzb3VyY2VfYXR0ciIpLnZhbHVlOwogICAgICAgICAgICAgICAgdmFyIGF0dHIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhcmdldF9hdHRyIikudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKGF0dHIxID09ICIiIHx8IGF0dHIyID09ICIiIHx8IGF0dHIxID09IG51bGwgfHwgYXR0cjIgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiAiUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXQhIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1hcHBpbmdfbmFtZV8xIikuaW5uZXJIVE1MID0gYXR0cjE7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXBwaW5nX25hbWVfMiIpLmlubmVySFRNTCA9IGF0dHIyOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXR0cl9tYXBwaW5nX3NvdXJjZSIpLnZhbHVlID0gYXR0cjE7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX21hcHBpbmdfdGFyZ2V0IikudmFsdWUgPSBhdHRyMjsKICAgICAgICAgICAgICAgICAgdmFyIGF1dG9jb21wbGV0ZV9zb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFwcGluZ19zb3VyY2UiKTsKICAgICAgICAgICAgICAgICAgdmFyIGF1dG9Db21wbGV0ZURhdGFfc291cmNlID0ge307CiAgICAgICAgICAgICAgICAgIHNvdXJjZXNfYWxsWyJkYXRhIl1bInNvdXJjZXMiXS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlRGF0YV9zb3VyY2VbZWxlbV0gPSBudWxsOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdmFyIGF1dG9Db21wbGV0ZU9wdGlvbnNfc291cmNlID0gewogICAgICAgICAgICAgICAgICAgIGRhdGE6IGF1dG9Db21wbGV0ZURhdGFfc291cmNlCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIE0uQXV0b2NvbXBsZXRlLmluaXQoYXV0b2NvbXBsZXRlX3NvdXJjZSwgYXV0b0NvbXBsZXRlT3B0aW9uc19zb3VyY2UpOwogICAgICAgICAgICAgICAgICBNLnVwZGF0ZVRleHRGaWVsZHMoKTsKICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uub3BlbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRfbWFwcGluZ19mb3JtIikub25zdWJtaXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShlKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSwgYXR0cjEsIGF0dHIyLCBmb3JtX2RhdGEsIHBvc3RNYXBwaW5nOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IE0uTW9kYWwuZ2V0SW5zdGFuY2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vZGFsX2FkZF9tYXBwaW5nIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNvdXJjZV9hdHRyIikudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFyZ2V0X2F0dHIiKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZF9tYXBwaW5nX2Zvcm0iKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvcG9zdC9tYXBwaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1fZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RNYXBwaW5nID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocG9zdE1hcHBpbmcpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX21hcHBpbmdfYnRuIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXR0cl9tYXBwaW5nX2xvYWRlciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zdE1hcHBpbmdbImRhdGEiXVsibWVzc2FnZSJdID09ICJvayIgJiYgcG9zdE1hcHBpbmcuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRfbWFwcGluZ19mb3JtIikucmVzZXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAiWW91IHN1Y2Nlc3NmdWxseSBhZGRlZCBhbiBBdHRyaWJ1dGUgTWFwcGluZzogIiArIGF0dHIxICsgIiAtLT4gIiArIGF0dHIyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX21hcHBpbmciKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX21hcHBpbmdfbG9hZGVyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX21hcHBpbmdfYnRuIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3JfbWFwcGluZyIpLmlubmVySFRNTCA9ICJPb29wcy4uLiBTb21ldGhpbmcgd2VudCB3cm9uZzogIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlcnJvcl9tYXBwaW5nIikuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocG9zdE1hcHBpbmdbImRhdGEiXVsibWVzc2FnZSJdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWJtaXRfYWRkX3NyYyIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb2RhbF9hZGRfc3JjIikpOwogICAgICAgICAgICAgICAgdmFyIHNyY05hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3JjX25ldyIpLnZhbHVlOwoKICAgICAgICAgICAgICAgIGlmIChzcmNOYW1lID09ICIiIHx8IHNyY05hbWUgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiAiUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXQhIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLm9wZW4oKTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNyY19uYW1lIikuaW5uZXJIVE1MID0gc3JjTmFtZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNyY19zb3VyY2UiKS52YWx1ZSA9IHNyY05hbWU7CiAgICAgICAgICAgICAgICAgIE0udXBkYXRlVGV4dEZpZWxkcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXdfc3JjX2Zvcm0iKS5vbnN1Ym1pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KGUpIHsKICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlLCBzcmNOYW1lLCBmb3JtX2RhdGEsIHBvc3RTcmM7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gTS5Nb2RhbC5nZXRJbnN0YW5jZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9kYWxfYWRkX3NyYyIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNyY19uZXciKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3JjX2J0biIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNyY19sb2FkZXIiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5ld19zcmNfZm9ybSIpKTsgLy9jb25zb2xlLmxvZyhmb3JtX2RhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9wb3N0L3NvdXJjZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtX2RhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0U3JjID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0U3JjWyJkYXRhIl1bIm1lc3NhZ2UiXSA9PSAib2siICYmIHBvc3RTcmMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5ld19zcmNfZm9ybSIpLnJlc2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3JjX2xvYWRlciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3JjX2J0biIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAiWW91IHN1Y2Nlc3NmdWxseSBhZGRlZCBhIG5ldyBzb3VyY2U6ICIgKyBzcmNOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNyY19sb2FkZXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX3NyYyIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX3NyYyIpLmlubmVySFRNTCArPSAiOiAiICsgcG9zdFNyY1siZGF0YSJdWyJtZXNzYWdlIl07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3JjX2J0biIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSgpOwoKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV3X2F0dHJfYXR0cmlidXRlIikub25jaGFuZ2UgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF0dHJfdGFrZW5fZXJyIikuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX3Rha2VuX2VyciIpLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX3N1Ym1pdF9idG4iKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2NoZWNrLWF0dHIiICsgIj9hdHRyX25hbWU9IiArIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXdfYXR0cl9hdHRyaWJ1dGUiKS52YWx1ZSk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3ApOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcFsiZGF0YSJdWyJtZXNzYWdlIl0gPT0gInRha2VuIikgewogICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX3Rha2VuX2VyciIpLmlubmVySFRNTCA9ICJBdHRyaWJ1dGUgbmFtZSBpcyBhbHJlYWR5IHRha2VuIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXR0cl9zdWJtaXRfYnRuIikuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRyX3N1Ym1pdF9idG4iKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVhc3VyZW1lbnRfZm9ybSIpLm9uc3VibWl0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoZSkgewogICAgICAgICAgICAgICAgICB2YXIgZm9ybURhdGEsIHVwbG9hZFJlc3BvbnNlOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9wb3N0L21lYXN1cmVtZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkUmVzcG9uc2UgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwbG9hZFJlc3BvbnNlLmRhdGFbIm1lc3NhZ2UiXSA9PSAib2siKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogIllvdSBhZGRlZCBhIG1lYXN1cmVtZW50IGZvcjogIiArIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2NhdGlvbiIpLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiU29tZXRob25nIHdlbnQgd3JvbmcuLi4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcyk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDYpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKTsKCiAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlOSk7CiAgICB9KSkoKTsKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7fQp9Ow=="},{"version":3,"sources":["DataModelEdit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>Model Wizard</h1>\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <ul class=\"tabs\">\n          <li class=\"tab col s3\">\n            <a class=\"active\" href=\"#core_tab\">Variables and Mappings</a>\n          </li>\n          <li class=\"tab col s3\">\n            <a href=\"#measurement_tab\">Measurements</a>\n          </li>\n          <li class=\"tab col s3\">\n            <a href=\"#codes_units_tab\">Codes and Units</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <hr style=\"height: 1px; background-color: black\" />\n\n\n    <!--\n      Modal Code Mappings\n\n      -->\n    <div id=\"modal_add_code_mapping\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h4>Add a Code Mapping: <a id=\"code_mapping_name_header\"></a></h4>\n        <p>Please provide more information</p>\n        <h3>This is only available via the spreadsheet...</h3>\n        <p class=\"error_message\" id=\"code_mapping_error_message\"></p>\n\n\n        \n      </div>\n    </div>\n\n  \n\n    <!-- \n\n      Modal units\n\n    -->\n    <div id=\"modal_add_unit\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h4>Add a Unit: <a id=\"unit_name_header\"></a></h4>\n        <p>Please provide more information</p>\n        <p class=\"error_message\" id=\"unit_error_message\"></p>\n\n\n        <form id=\"form_add_unit\">\n          <div class=\"row\">\n            <div class=\"input-field col s6\">\n              <input type=\"text\" id=\"unit_name\" required name=\"unit_name\" />\n              <label for=\"unit_name\">Unit name (required)</label>\n              <span class=\"helper-text\">\n                The unique name of the unit throughout the complete datamodel\n              </span>\n            </div>\n            <div class=\"input-field col s6\">\n              <input\n                type=\"text\"\n                id=\"unit_description\"\n                required\n                name=\"unit_description\"\n              />\n              <label for=\"unit_description\">Unit Description (required)</label>\n              <span class=\"helper-text\"> A description for the unit </span>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <p>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      name=\"ucum\"\n                      id=\"unit_ucum\"\n                      checked=\"checked\"\n                    />\n                    <span>Is UCUM Unit (yes/no)</span>\n                  </label>\n                  <span class=\"helper-text\"\n                    >Indicates whether this unit is in UCUM or not</span\n                  >\n                </p>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col s12 right-align\">\n                <button\n                  class=\"btn waves-effect waves-green blue-grey lighten-1\"\n                >\n                  Create Unit<i class=\"material-icons right\">send</i>\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <!-- \n\n      Modal codes\n\n    -->\n    <div id=\"modal_add_code\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h4>Add a Code: <a id=\"code_name_header\"></a></h4>\n        <p>Please provide more information</p>\n                <p class=\"error_message\" id=\"code_error_message\"></p>\n\n        <form id=\"form_add_code\">\n          <div class=\"row\">\n            <div class=\"input-field col s6\">\n              <input type=\"text\" id=\"code_name\" required name=\"code_name\" />\n              <label for=\"code_name\">Code name (required)</label>\n              <span class=\"helper-text\">\n                The unique name of the code throughout the complete datamodel\n              </span>\n            </div>\n            <div class=\"input-field col s6\">\n              <input\n                type=\"text\"\n                id=\"code_description\"\n                required\n                name=\"code_discription\"\n              />\n              <label for=\"code_description\">Code description (required)</label>\n              <span class=\"helper-text\"> A description for the code </span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <p class=\"left-align ml-15\">\n              Provide the code keys with its values\n            </p>\n            <div class=\"col s6\">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Key</th>\n                    <th>Value</th>\n                  </tr>\n                </thead>\n                <tbody id=\"table_body_code\">\n                  <tr>\n                    <td><input name=\"key_1\" type=\"text\" required/></td>\n                    <td><input name=\"val_1\" type=\"text\" required/></td>\n                  </tr>\n                </tbody>\n                <br />\n              </table>\n            </div>\n            <div class=\"input-field col s6\">\n              <p>\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    name=\"active\"\n                    id=\"code_active\"\n                    checked=\"checked\"\n                  />\n                  <span>Active (yes/no)</span>\n                </label>\n                <span class=\"helper-text\"\n                  >Indicates whether item is in use in the backend's current\n                  setup</span\n                >\n              </p>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col s6 right-align\">\n              <a\n                class=\"btn-floating btn-large waves-effect waves-light blue-grey\"\n                id=\"add_code_row_btn\"\n                ><i class=\"material-icons\">add</i></a\n              >\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col s12 right-align\">\n              <button class=\"btn waves-effect waves-green blue-grey lighten-1\">\n                Create Code<i class=\"material-icons right\">send</i>\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <div id=\"modal_add_src\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h4>Add a Source: <a id=\"src_name\"></a></h4>\n        <p>Please add more information</p>\n\n        <form id=\"new_src_form\">\n          <div class=\"row\">\n            <div class=\"input-field col s6\">\n              <input\n                type=\"text\"\n                name=\"abbreviation\"\n                id=\"src_abbreviation\"\n                required\n              />\n              <label for=\"src_abbreviation\">Abbreviation (required)</label>\n              <span class=\"helper-text\">\n                Abbreviated label, unique in the IDSN clinical datamodel</span\n              >\n            </div>\n            <div class=\"input-field col s6\">\n              <input type=\"text\" name=\"source\" id=\"src_source\" />\n              <label for=\"src_source\">Source</label>\n              <span class=\"helper-text\">\n                Name of the registry/study/source</span\n              >\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s6\">\n              <input type=\"text\" name=\"pid_colname\" id=\"src_pid_colname\" />\n              <label for=\"src_pid_colname\">PID_colname</label>\n              <span class=\"helper-text\">\n                Alternate name of column containing the patient's ID</span\n              >\n            </div>\n            <div class=\"input-field col s6\">\n              <input type=\"text\" name=\"site_colname\" id=\"src_site_colname\" />\n              <label for=\"src_site_colname\">SITE_colname</label>\n              <span class=\"helper-text\">\n                Alternate name of column containing the site's ID (multi-center\n                study data)</span\n              >\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s6\">\n              <input\n                type=\"text\"\n                name=\"timestamp_colname\"\n                id=\"src_timestamp_colname\"\n              />\n              <label for=\"src_timestamp_colname\">TIMESTAMP_colname</label>\n              <span class=\"helper-text\">\n                Alternate name of column containing the measurement's time\n                stamp</span\n              >\n            </div>\n            <div class=\"input-field col s6\">\n              <input type=\"text\" name=\"header_offset\" id=\"src_header_offset\" />\n              <label for=\"src_header_offset\">Header_offset</label>\n              <span class=\"helper-text\">\n                Number of lines to ignore before expecting the first line of the\n                actual data (which is the header)</span\n              >\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s6\">\n              <input type=\"text\" name=\"filepath\" id=\"src_filepath\" />\n              <label for=\"src_filepath\">Filepath</label>\n              <span class=\"helper-text\"> Location of the uploaded file</span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"progress\" id=\"src_loader\" style=\"display: none\">\n              <div class=\"indeterminate\"></div>\n            </div>\n\n            <div class=\"col s12 right-align\" id=\"src_btn\">\n              <button class=\"btn waves-effect waves-green blue-grey lighten-1\">\n                Create Source<i class=\"material-icons right\">send</i>\n              </button>\n            </div>\n            <div\n              class=\"col s12\"\n              id=\"error_src\"\n              style=\"display: none; color: red\"\n            >\n              Ooops... Something went wrong\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <!-- Modal Structure Add Mapping-->\n    <div id=\"modal_add_mapping\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h4>Add Attribute Mapping:</h4>\n        <div class=\"row\">\n          <div class=\"col s4 right-align\"><a id=\"mapping_name_1\"></a></div>\n          <div class=\"col s4\">\n            <i class=\"material-icons\">trending_flat</i>\n          </div>\n          <div class=\"col s4 left-align\"><a id=\"mapping_name_2\"></a></div>\n        </div>\n        <p>Please Fill in additional Information</p>\n        <div class=\"row\">\n          <form id=\"add_mapping_form\">\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <p>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      name=\"active\"\n                      id=\"attr_mapping_active\"\n                      checked=\"checked\"\n                    />\n                    <span>Active (yes/no)</span>\n                  </label>\n                  <span class=\"helper-text\"\n                    >Indicates whether item is in use in the backend's current\n                    setup</span\n                  >\n                </p>\n              </div>\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"source_attr\"\n                  id=\"attr_mapping_source\"\n                  required\n                  readonly\n                />\n                <label for=\"attr_mapping_source\">Source Attribute</label>\n                <span class=\"helper-text\">\n                  Unique attribute name in the source datamodel</span\n                >\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"target\"\n                  id=\"attr_mapping_target\"\n                  required\n                  readonly\n                />\n                <label for=\"attr_mapping_target\">Target Attribute</label>\n                <span class=\"helper-text\"> Name of the Target Attribute</span>\n              </div>\n\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"source\"\n                  id=\"mapping_source\"\n                  class=\"autocomplete\"\n                  required\n                />\n\n                <label for=\"mapping_source\">Source</label>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"transformation\"\n                  id=\"attr_mapping_transformation\"\n                />\n                <label for=\"attr_mapping_target\">Transformation</label>\n                <span class=\"helper-text\"\n                  >Operation to be applied, if necessary, when mapping</span\n                >\n              </div>\n            </div>\n            <div class=\"row\">\n              <div\n                class=\"progress\"\n                id=\"attr_mapping_loader\"\n                style=\"display: none\"\n              >\n                <div class=\"indeterminate\"></div>\n              </div>\n\n              <div class=\"col s12 right-align\" id=\"attr_mapping_btn\">\n                <button\n                  class=\"btn waves-effect waves-green blue-grey lighten-1\"\n                >\n                  Create Attribute-Mapping<i class=\"material-icons right\"\n                    >send</i\n                  >\n                </button>\n              </div>\n              <div\n                class=\"col s12\"\n                id=\"error_mapping\"\n                style=\"display: none; color: red\"\n              >\n                Ooops... Something went wrong\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    <!-- Modal Structure Add Attribute-->\n    <div id=\"modal_attr_add\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h4>Add Attribute: <a id=\"attribute_name\"></a></h4>\n        <p>Please fill in as many information you know</p>\n        <div class=\"row\">\n          <form class=\"col s12\" id=\"add_attr\">\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <p>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      name=\"active\"\n                      id=\"new_attr_active\"\n                      checked=\"checked\"\n                    />\n                    <span>Active (yes/no)</span>\n                  </label>\n                  <span class=\"helper-text\"\n                    >Indicates whether item is in use in the backend's current\n                    setup</span\n                  >\n                </p>\n              </div>\n              <div class=\"input-field col s6\">\n                <input type=\"text\" name=\"topic\" id=\"new_attr_topic\" />\n                <label for=\"new_attr_topic\">Topic</label>\n                <span class=\"helper-text\"\n                  >Topic (= semantic category) the identifier belongs to (e.g.\n                  neuropsychology, lab, medication, ...)</span\n                >\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"topic_description\"\n                  id=\"new_attr_topic_deescription\"\n                />\n                <label for=\"new_attr_topic_description\"\n                  >Topic Description</label\n                >\n                <span class=\"helper-text\"> Topic's full text description</span>\n              </div>\n              <div class=\"input-field col s6\">\n                <input type=\"text\" name=\"umbrella\" id=\"new_attr_umbrella\" />\n                <label for=\"new_attr_umbrella\">Umbrella</label>\n                <span class=\"helper-text\"\n                  >Generalized term wrapping an attribute with further,\n                  analogous terms (= semantically highly similar, but not\n                  identical)</span\n                >\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"umbrella_description\"\n                  id=\"new_attr_umbrella_description\"\n                />\n                <label for=\"new_attr_umbrella_description\"\n                  >Umbrella Description</label\n                >\n                <span class=\"helper-text\"\n                  >Umbrella's full text description</span\n                >\n              </div>\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"attribute\"\n                  id=\"new_attr_attribute\"\n                  required=\"required\"\n                />\n                <label for=\"new_attr_attribute\">Attribute (required)</label>\n                <div id=\"attr_taken_err\"></div>\n                <span class=\"helper-text\"\n                  >The unique item's name throughout the overall data\n                  model</span\n                >\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"attribute_description\"\n                  id=\"new_attr_attribute_description\"\n                  required=\"required\"\n                />\n                <label for=\"new_attr_attribute_description\"\n                  >Attribute Description (required)</label\n                >\n                <span class=\"helper-text\"\n                  >Unique attribute's fulltext description</span\n                >\n              </div>\n              <div class=\"input-field col s6\">\n                <input\n                  type=\"text\"\n                  name=\"attribute_tooltip\"\n                  id=\"new_attr_tooltip\"\n                  required=\"required\"\n                />\n                <label for=\"new_attr_tooltip\"\n                  >Attribute Tooltip (required)</label\n                >\n                <span class=\"helper-text\"\n                  >Very short description, suitable for tooltips or table\n                  headings</span\n                >\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <select name=\"datatype\" id=\"new_attr_datatype\" class=\"browser-default\">\n                  <option value=\"\" selected>Choose a datatype</option>\n                  <option value=\"code\">code</option>\n                  <option value=\"date\">date</option>\n                  <option value=\"int\">int</option>\n                  <option value=\"float\">float</option>\n                  <option value=\"string\">string</option>\n                  <option value=\"array(date)\">array(date)</option>\n                  <option value=\"array(int)\">array(int)</option>\n                  <option value=\"array(float)\">array(float)</option>\n                  <option value=\"array(string)\">array(string)</option>\n                  <option value=\"array(code)\">array(code)</option>\n                </select>\n              </div>\n              <div class=\"input-field col s6\">\n                <input type=\"text\" name=\"domain\" id=\"new_attr_domain\" />\n                <label for=\"new_attr_domain\">Attribute Range</label>\n                <span class=\"helper-text\"\n                  >Accepted range of numeric values (2-items arry in Python\n                  notation; empty entry is valid) or name of code (for\n                  categorical items)</span\n                >\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <select\n                  name=\"unit\"\n                  id=\"new_attr_unit_unit\"\n                  required=\"required\"\n                  class=\"browser-default\"\n                >\n                  <option value=\"\" selected disabled>Choose a unit</option>\n                  <option v-for=\"unit in units\" :key=\"unit.name\">\n                    {{ unit.name }}\n                  </option>\n                </select>\n\n                <span class=\"helper-text\">Unique code expressing unit</span>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"progress\" id=\"add_attr_loader\" style=\"display: none\">\n                <div class=\"indeterminate\"></div>\n              </div>\n\n              <div class=\"col s12 right-align\" id=\"add_attr_btn\">\n                <button\n                  id=\"attr_submit_btn\"\n                  class=\"btn waves-effect waves-green blue-grey lighten-1\"\n                >\n                  Create Attribute<i class=\"material-icons right\">send</i>\n                </button>\n              </div>\n              <div\n                class=\"col s12\"\n                id=\"error_add\"\n                style=\"display: none; color: red\"\n              >\n                Ooops... Something went wrong\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    <div id=\"core_tab\" class=\"col s12\">\n      <div class=\"row\">\n        <h4>Extend the Core Model</h4>\n\n        <div class=\"col s12\">\n          <h5>\n            Add an Attribute<i\n              class=\"material-icons tooltipped\"\n              data-position=\"bottom\"\n              data-tooltip=\"Add a new variable to the clinical datamodel. Several information must be provided!\"\n              >info_outline</i\n            >\n          </h5>\n          <div class=\"row\">\n            <div class=\"input-field col s10\">\n              <input id=\"attr_new\" type=\"text\" name=\"attr_new\" />\n              <label for=\"attr_new\">Attribute Name</label>\n            </div>\n            <div class=\"col s2\">\n              <button\n                class=\"btn waves-effect waves-light blue-grey lighten-1\"\n                type=\"button\"\n                id=\"submit_add_attr\"\n              >\n                Add attribute\n                <i class=\"material-icons right\">submit</i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br />\n      <hr style=\"height: 1px; background-color: black\" />\n      <div class=\"row\">\n        <h4>Extend the Mappings</h4>\n\n        <div class=\"row\">\n          <h5>\n            Add a Source<i\n              class=\"material-icons tooltipped\"\n              data-position=\"bottom\"\n              data-tooltip=\"Add a new source to the clinical datamodel.\"\n              >info_outline</i\n            >\n          </h5>\n          <div class=\"row\">\n            <div class=\"input-field col s10\">\n              <input id=\"src_new\" type=\"text\" name=\"src_new\" />\n              <label for=\"src_new\">Source Name</label>\n            </div>\n            <div class=\"col s2\">\n              <button\n                class=\"btn waves-effect waves-light blue-grey lighten-1\"\n                type=\"button\"\n                id=\"submit_add_src\"\n              >\n                Add source\n                <i class=\"material-icons right\">submit</i>\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <h5>\n            Add an Attribute-Mapping<i\n              class=\"material-icons tooltipped\"\n              data-position=\"bottom\"\n              data-tooltip=\"The source attribute is the external variable that maps to an internal variable. Source of external variable must be specified!\"\n              >info_outline</i\n            >\n          </h5>\n          <div class=\"col s12\" id=\"attr_mapping_form\">\n            <div class=\"row\">\n              <div class=\"input-field col s4\">\n                <input type=\"text\" name=\"source_attr\" id=\"source_attr\" />\n\n                <label for=\"source_attr\">Source Attribute</label>\n              </div>\n              <div class=\"col s2\">\n                <i class=\"material-icons large\">trending_flat</i>\n              </div>\n              <div class=\"input-field col s4\">\n                <input\n                  type=\"text\"\n                  name=\"target_attr\"\n                  id=\"target_attr\"\n                  class=\"autocomplete\"\n                />\n\n                <label for=\"target_attr\">Target Attribute</label>\n              </div>\n              <div class=\"col s2\">\n                <button\n                  class=\"btn waves-effect waves-light blue-grey lighten-1\"\n                  name=\"action\"\n                  type=\"button\"\n                  id=\"submit_mapping\"\n                >\n                  Add mapping\n                  <i class=\"material-icons right\">submit</i>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div id=\"measurement_tab\" class=\"col s12\">\n      <div class=\"row\">\n        <h4>\n          Add a measurement\n          <i\n            class=\"material-icons tooltipped\"\n            data-position=\"bottom\"\n            data-tooltip=\"A measurement consists of up to three inputs. WHAT is measured (Object of measurement). WHERE is it measured (Location of measurement). HOW is it measured (Method of measurement).\"\n            >info_outline</i\n          >\n        </h4>\n        <div class=\"row\">\n          <form id=\"measurement_form\" class=\"col s12\">\n            <div class=\"row\">\n              <div class=\"input-field col s6\">\n                <input\n                  required\n                  placeholder=\"e.g. Adrenaline\"\n                  id=\"object\"\n                  name=\"object\"\n                  type=\"text\"\n                  class=\"validate\"\n                />\n                <label for=\"object\">Object of measurement</label>\n              </div>\n              <div class=\"input-field col s6\">\n                <input\n                  placeholder=\"e.g. Blood\"\n                  name=\"location\"\n                  id=\"location\"\n                  type=\"text\"\n                  class=\"validate\"\n                />\n                <label for=\"location\">Location of measurement</label>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"input-field col s12\">\n                <textarea\n                  id=\"textarea1\"\n                  name=\"method\"\n                  class=\"materialize-textarea\"\n                  placeholder=\"e.g. The patient provides a blood sample of 5ml. The sample needs to be taken on an empty stomach.\"\n                ></textarea>\n                <label for=\"textarea1\">Method of measurement</label>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col s12 right-align\">\n                <button\n                  class=\"btn waves-effect waves-green blue-grey lighten-1\"\n                >\n                  Create Measurement<i class=\"material-icons right\">send</i>\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <div id=\"codes_units_tab\" class=\"col s12\">\n      <div class=\"row\">\n        <div class=\"col s12\">\n          <h5>Add a Code</h5>\n          <div class=\"input-field col s10\">\n            <input\n              placeholder=\"Code\"\n              name=\"code\"\n              id=\"code\"\n              type=\"text\"\n              class=\"validate\"\n            />\n            <label for=\"code\">Code name</label>\n          </div>\n          <div class=\"col s2\">\n            <button\n              class=\"btn waves-effect waves-light blue-grey lighten-1\"\n              type=\"button\"\n              id=\"code_add_btn\"\n            >\n              Add Code\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col s12\">\n          <h5>Add a Unit</h5>\n          <div class=\"input-field col s10\">\n            <input\n              placeholder=\"Unit\"\n              name=\"unit\"\n              id=\"unit\"\n              type=\"text\"\n              class=\"validate\"\n            />\n            <label for=\"unit\">Unit name</label>\n          </div>\n          <div class=\"col s2\">\n            <button\n              class=\"btn waves-effect waves-light blue-grey lighten-1\"\n              type=\"button\"\n              id=\"unit_add_btn\"\n            >\n              Add Unit\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <h5>Add a Code-Mapping</h5>\n        <div class=\"col s12\">\n          <div class=\"input-field col s10\">\n          <input type=\"text\" class=\"validate\" id=\"code_mapping_input\" placeholder=\"Code Mapping\" name=\"code_mapping_input\"/>\n          <label for=\"code_mapping_input\">Code-Mapping name</label>\n          </div>\n          <div class=\"col s2\">\n            <button\n              class=\"btn waves-effect waves-light blue-grey lighten-1\"\n              type=\"button\"\n              id=\"code_mapping_add_btn\"\n            >\n              Add Code Mapping\n            </button>\n          </div>\n        </div>\n        \n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ax from \"axios\";\nconst axios = ax;\nimport M from \"materialize-css\";\nexport default {\n  name: \"editDatamodel\",\n  data() {\n    return {\n      attrs: [],\n      sources: [],\n      units: [],\n      addCodeTableRowNum: 1,\n    };\n  },\n  async created() {\n    const units = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/units\"\n    );\n    const unitsAsJson = JSON.parse(units.data[\"units\"]);\n    unitsAsJson.forEach((unit) => {\n      this.units.push({\n        name: unit[\"pk\"],\n        UCUM: unit[\"fields\"][\"UCUM\"],\n        description: unit[\"fields\"][\"Description\"],\n      });\n    });\n\n    const attributes = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/attributes/all\"\n    );\n    const sources_all = await axios.get(\n      process.env.VUE_APP_CLINICALURL + \"/get/sources/all\"\n    );\n    //console.log(attributes['data']['attributes']);\n    attributes[\"data\"][\"attributes\"].forEach((element) => {\n      this.attrs.push(element[\"name\"]);\n    });\n\n    let autoCompleteData = {};\n    this.attrs.forEach((att) => {\n      autoCompleteData[att] = null;\n    });\n    var autoCompleteOptions = {\n      data: autoCompleteData,\n    };\n    M.Tabs.init(document.querySelectorAll(\".tabs\"));\n\n    var elems = document.querySelectorAll(\".autocomplete\");\n    M.Autocomplete.init(elems, autoCompleteOptions);\n    var elemsModal = document.querySelectorAll(\".modal\");\n    M.Modal.init(elemsModal);\n\n    document.getElementById(\"submit_add_attr\").onclick = async function () {\n      var instance = M.Modal.getInstance(\n        document.getElementById(\"modal_attr_add\")\n      );\n      var header = document.getElementById(\"attribute_name\");\n      header.innerHTML = \"\";\n      var val = document.getElementById(\"attr_new\").value;\n      header.appendChild(document.createTextNode(val));\n      if (val != null && val != \"\") {\n        const resp = await axios.get(\n          process.env.VUE_APP_CLINICALURL +\n            \"/get/check-attr\" +\n            \"?attr_name=\" +\n            val\n        );\n        //console.log(resp);\n        if (resp[\"data\"][\"message\"] == \"taken\") {\n          M.toast({ html: \"Attribute Name already taken!\" });\n          return;\n        }\n        document\n          .getElementById(\"new_attr_attribute\")\n          .setAttribute(\"value\", val);\n        M.updateTextFields();\n        instance.open();\n      } else {\n        M.toast({ html: \"Please check your input!\" });\n        return;\n      }\n    };\n\n    /**\n      Click on add code mapping\n\n    */\n    document.getElementById(\"code_mapping_add_btn\").onclick = function(){\n      var codeMappingName = document.getElementById(\"code_mapping_input\").value;\n      var modalInstance = M.Modal.getInstance(\n          document.getElementById(\"modal_add_code_mapping\")\n        );\n      if (codeMappingName == null || codeMappingName == \"\") {\n        M.toast({\n          html: \"Please provide a valid Code-Mapping name!\",\n        });\n        return;\n      } else {\n        modalInstance.open();\n\n      }\n      \n      \n    }\n\n    /**\n     * Click on unit add\n     * adding unit\n     *\n     *\n     */\n\n    document.getElementById(\"unit_add_btn\").onclick = () => {\n      var unitName = document.getElementById(\"unit\").value;\n      if (unitName == null || unitName == \"\") {\n        M.toast({\n          html: \"Please provide a valid unit name!\",\n        });\n        return;\n      } else {\n        var modalInstance = M.Modal.getInstance(\n          document.getElementById(\"modal_add_unit\")\n        );\n        var headerUnitModal = document.getElementById(\"unit_name_header\");\n        headerUnitModal.innerText = unitName;\n        document.getElementById(\"unit_name\").value = unitName;\n        M.updateTextFields();\n\n        modalInstance.open();\n      }\n    };\n    /**\n     *\n     * submit unit add\n     *\n     */\n\n    document.getElementById(\"form_add_unit\").onsubmit = async function (e) {\n      var unitName = document.getElementById(\"unit\").value;\n      e.preventDefault();\n      const formData = new FormData(this);\n      const unitUploadResponse = await axios({\n        method: \"post\",\n        url: process.env.VUE_APP_CLINICALURL + \"/post/unit\",\n        data: formData,\n        withCredentials: true,\n      });\n      if (unitUploadResponse.data[\"message\"] == \"ok\") {\n        var modalInstance = M.Modal.getInstance(\n          document.getElementById(\"modal_add_unit\")\n        );\n        modalInstance.close();\n        M.toast({\n          html: \"You successfully added a unit: \" + unitName,\n        });\n        return;\n      } else {\n        document.getElementById(\"unit_error_message\").innerText = \"Something went wrong... try again or contact the support.\";\n      }\n    };\n\n    /**\n     * Click on code add\n     * Adding Code\n     * Code add\n     *\n     */\n    document.getElementById(\"code_add_btn\").onclick = function () {\n      var codeName = document.getElementById(\"code\").value;\n      if (codeName == null || codeName == \"\") {\n        M.toast({\n          html: \"Please provide a valid code name!\",\n        });\n        return;\n      } else {\n        var modalInstance = M.Modal.getInstance(\n          document.getElementById(\"modal_add_code\")\n        );\n\n        var headerCodeModal = document.getElementById(\"code_name_header\");\n        headerCodeModal.innerText = codeName;\n        document.getElementById(\"code_name\").value = codeName;\n        M.updateTextFields();\n\n        modalInstance.open();\n      }\n    };\n    /**\n     * Adding rows in add code dialog\n     * add row\n     * add code key value\n     *\n     *\n     */\n    var addCodeTableRows = this.addCodeTableRowNum;\n    document.getElementById(\"add_code_row_btn\").onclick = function () {\n      var tableBody = document.getElementById(\"table_body_code\");\n      var row = document.createElement(\"tr\");\n      var tdKey = document.createElement(\"td\");\n      var tdVal = document.createElement(\"td\");\n      var inputKey = document.createElement(\"input\");\n      var inputVal = document.createElement(\"input\");\n      inputKey.setAttribute(\"name\", \"key_\" + String(addCodeTableRows + 1));\n      inputVal.setAttribute(\"name\", \"val_\" + String(addCodeTableRows + 1));\n      tdKey.appendChild(inputKey);\n      tdVal.appendChild(inputVal);\n      row.appendChild(tdKey);\n      row.appendChild(tdVal);\n      tableBody.appendChild(row);\n      addCodeTableRows++;\n      return;\n    };\n\n    /**\n     * Submit of code app form\n     *\n     *\n     */\n\n    document.getElementById(\"form_add_code\").onsubmit = async function (e) {\n      e.preventDefault();\n      var formData = new FormData(this);\n\n      const codeUploadResponse = await axios({\n        method: \"post\",\n        url: process.env.VUE_APP_CLINICALURL + \"/post/code\",\n        data: formData,\n        withCredentials: true,\n      });\n\n      \n      if (codeUploadResponse.status == 200 &&  codeUploadResponse.data[\"message\"] == \"ok\") {\n        var modalInstance = M.Modal.getInstance(\n          document.getElementById(\"modal_add_code\")\n        );\n        modalInstance.close();\n        var codeName = document.getElementById(\"code\").value;\n\n        M.toast({\n          html: \"You successfully added a code: \" + codeName,\n        });\n        this.reset();\n        document.getElementById(\"code\").value = \"\";\n\n\n\n        return;\n      }\n      else{\n        console.log(\"error adding code.\")\n        document.getElementById(\"code_error_message\").innerText = \"Something went wrong.... Try again or contact the support.\"\n\n      }\n    };\n\n    document.getElementById(\"add_attr\").onsubmit = async function (e) {\n      e.preventDefault();\n      document.getElementById(\"add_attr_btn\").style.display = \"none\";\n      document.getElementById(\"add_attr_loader\").style.display = \"block\";\n\n      var form_data = new FormData(document.getElementById(\"add_attr\"));\n      console.log(form_data);\n      const postAttribute = await axios({\n        method: \"post\",\n        url: process.env.VUE_APP_CLINICALURL + \"/post/attribute\",\n        data: form_data,\n        withCredentials: true,\n      });\n      if (\n        postAttribute[\"data\"][\"message\"] == \"ok\" &&\n        postAttribute.status == 200\n      ) {\n        var instance = M.Modal.getInstance(\n          document.getElementById(\"modal_attr_add\")\n        );\n        instance.close();\n        document.getElementById(\"add_attr_btn\").style.display = \"block\";\n        document.getElementById(\"add_attr_loader\").style.display = \"none\";\n        document.getElementById(\"add_attr\").reset();\n\n        M.toast({\n          html: \"You created a new Attribute: \" + form_data.get(\"attribute\"),\n        });\n        const attributes = await axios.get(\n          process.env.VUE_APP_CLINICALURL + \"/get/attributes/all\"\n        );\n        attributes[\"data\"][\"attributes\"].forEach((element) => {\n          this.attrs.push(element[\"name\"]);\n        });\n\n        let autoCompleteData = {};\n        this.attrs.forEach((att) => {\n          autoCompleteData[att] = null;\n        });\n        var autoCompleteOptions = {\n          data: autoCompleteData,\n        };\n\n        var elems = document.querySelectorAll(\".autocomplete\");\n        M.Autocomplete.init(elems, autoCompleteOptions);\n      } else {\n        console.log(\"Something went wrong...\");\n        document.getElementById(\"add_attr_loader\").style.display = \"none\";\n\n        document.getElementById(\"error_add\").style.display = \"block\";\n        document.getElementById(\"error_add\").innerHTML +=\n          \": \" + postAttribute[\"data\"][\"message\"];\n      }\n    };\n    document.getElementById(\"submit_mapping\").onclick = function () {\n      var instance = M.Modal.getInstance(\n        document.getElementById(\"modal_add_mapping\")\n      );\n      var attr1 = document.getElementById(\"source_attr\").value;\n      var attr2 = document.getElementById(\"target_attr\").value;\n      if (attr1 == \"\" || attr2 == \"\" || attr1 == null || attr2 == null) {\n        M.toast({ html: \"Please check your input!\" });\n        return;\n      } else {\n        document.getElementById(\"mapping_name_1\").innerHTML = attr1;\n        document.getElementById(\"mapping_name_2\").innerHTML = attr2;\n        document.getElementById(\"attr_mapping_source\").value = attr1;\n        document.getElementById(\"attr_mapping_target\").value = attr2;\n        var autocomplete_source = document.getElementById(\"mapping_source\");\n        let autoCompleteData_source = {};\n        sources_all[\"data\"][\"sources\"].forEach((elem) => {\n          autoCompleteData_source[elem] = null;\n        });\n        var autoCompleteOptions_source = {\n          data: autoCompleteData_source,\n        };\n\n        M.Autocomplete.init(autocomplete_source, autoCompleteOptions_source);\n        M.updateTextFields();\n        instance.open();\n      }\n    };\n    document.getElementById(\"add_mapping_form\").onsubmit = async function (e) {\n      e.preventDefault();\n      var instance = M.Modal.getInstance(\n        document.getElementById(\"modal_add_mapping\")\n      );\n      var attr1 = document.getElementById(\"source_attr\").value;\n      var attr2 = document.getElementById(\"target_attr\").value;\n      var form_data = new FormData(document.getElementById(\"add_mapping_form\"));\n\n      const postMapping = await axios({\n        method: \"post\",\n        url: process.env.VUE_APP_CLINICALURL + \"/post/mapping\",\n        data: form_data,\n        withCredentials: true,\n      });\n      console.log(postMapping);\n      document.getElementById(\"attr_mapping_btn\").style.display = \"none\";\n      document.getElementById(\"attr_mapping_loader\").style.display = \"block\";\n      if (postMapping[\"data\"][\"message\"] == \"ok\" && postMapping.status == 200) {\n        instance.close();\n        document.getElementById(\"add_mapping_form\").reset();\n        M.toast({\n          html:\n            \"You successfully added an Attribute Mapping: \" +\n            attr1 +\n            \" --> \" +\n            attr2,\n        });\n      } else {\n        document.getElementById(\"error_mapping\").style.display = \"block\";\n        document.getElementById(\"attr_mapping_loader\").style.display = \"none\";\n        document.getElementById(\"attr_mapping_btn\").style.display = \"block\";\n\n        document.getElementById(\"error_mapping\").innerHTML =\n          \"Ooops... Something went wrong: \";\n        document\n          .getElementById(\"error_mapping\")\n          .appendChild(document.createTextNode(postMapping[\"data\"][\"message\"]));\n      }\n      return;\n    };\n\n    document.getElementById(\"submit_add_src\").onclick = function () {\n      var instance = M.Modal.getInstance(\n        document.getElementById(\"modal_add_src\")\n      );\n      var srcName = document.getElementById(\"src_new\").value;\n      if (srcName == \"\" || srcName == null) {\n        M.toast({ html: \"Please check your input!\" });\n      } else {\n        instance.open();\n        document.getElementById(\"src_name\").innerHTML = srcName;\n        document.getElementById(\"src_source\").value = srcName;\n        M.updateTextFields();\n      }\n    };\n    document.getElementById(\"new_src_form\").onsubmit = async function (e) {\n      e.preventDefault();\n      var instance = M.Modal.getInstance(\n        document.getElementById(\"modal_add_src\")\n      );\n      var srcName = document.getElementById(\"src_new\").value;\n      document.getElementById(\"src_btn\").style.display = \"none\";\n      document.getElementById(\"src_loader\").style.display = \"block\";\n      var form_data = new FormData(document.getElementById(\"new_src_form\"));\n      //console.log(form_data);\n\n      const postSrc = await axios({\n        method: \"post\",\n        url: process.env.VUE_APP_CLINICALURL + \"/post/source\",\n        data: form_data,\n        withCredentials: true,\n      });\n\n      if (postSrc[\"data\"][\"message\"] == \"ok\" && postSrc.status == 200) {\n        document.getElementById(\"new_src_form\").reset();\n        document.getElementById(\"src_loader\").style.display = \"none\";\n        document.getElementById(\"src_btn\").style.display = \"block\";\n\n        instance.close();\n        M.toast({ html: \"You successfully added a new source: \" + srcName });\n      } else {\n        document.getElementById(\"src_loader\").style.display = \"none\";\n        document.getElementById(\"error_src\").style.display = \"block\";\n        document.getElementById(\"error_src\").innerHTML +=\n          \": \" + postSrc[\"data\"][\"message\"];\n        document.getElementById(\"src_btn\").style.display = \"block\";\n      }\n      return;\n    };\n    document.getElementById(\"new_attr_attribute\").onchange = async function () {\n      document.getElementById(\"attr_taken_err\").innerHTML = \"\";\n      document.getElementById(\"attr_taken_err\").style.color = \"red\";\n      document.getElementById(\"attr_submit_btn\").disabled = false;\n      const resp = await axios.get(\n        process.env.VUE_APP_CLINICALURL +\n          \"/get/check-attr\" +\n          \"?attr_name=\" +\n          document.getElementById(\"new_attr_attribute\").value\n      );\n      //console.log(resp);\n      if (resp[\"data\"][\"message\"] == \"taken\") {\n        document.getElementById(\"attr_taken_err\").innerHTML =\n          \"Attribute name is already taken\";\n        document.getElementById(\"attr_submit_btn\").disabled = true;\n      } else {\n        document.getElementById(\"attr_submit_btn\").disabled = false;\n      }\n    };\n    document.getElementById(\"measurement_form\").onsubmit = async function (e) {\n      e.preventDefault();\n      var formData = new FormData(this);\n      const uploadResponse = await axios({\n        method: \"post\",\n        url: process.env.VUE_APP_CLINICALURL + \"/post/measurement\",\n        data: formData,\n        withCredentials: true,\n      });\n      if (uploadResponse.data[\"message\"] == \"ok\") {\n        M.toast({\n          html:\n            \"You added a measurement for: \" +\n            document.getElementById(\"location\").value,\n        });\n        this.reset();\n      } else {\n        console.error(\"Somethong went wrong...\");\n      }\n    };\n  },\n  updated() {},\n};\n</script>\n\n<style scoped>\n.error_message {\n  color: red;\n}\n</style>"],"sourceRoot":"src/components"}]}