{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/thread-loader/dist/cjs.js!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/babel-loader/lib/index.js!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/src/components/DownloadArea.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/src/components/DownloadArea.vue","mtime":1635322962954},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635508076994},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1635508076954},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/babel-loader/lib/index.js","mtime":1635508077568},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635508076994},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/github/data-steward/frontend/node_modules/vue-loader/lib/index.js","mtime":1635508077737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9waGlsaXBwd2VnbmVyL0Rlc2t0b3AvRnJhdW5ob2Zlci9TRU0tR3JvdXAvZ2l0L2dpdGh1Yi9kYXRhLXN0ZXdhcmQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheCBmcm9tICJheGlvcyI7CnZhciBheGlvcyA9IGF4OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRvd25sb2FkIiwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZnVuY3Rpb24gZG93bmxvYWRGaWxlKGRhdGEsIGZpbGVuYW1lLCBtaW1lKSB7CiAgICAgIC8vIEl0IGlzIG5lY2Vzc2FyeSB0byBjcmVhdGUgYSBuZXcgYmxvYiBvYmplY3Qgd2l0aCBtaW1lLXR5cGUgZXhwbGljaXRseSBzZXQKICAgICAgLy8gb3RoZXJ3aXNlIG9ubHkgQ2hyb21lIHdvcmtzIGxpa2UgaXQgc2hvdWxkCiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7CiAgICAgICAgdHlwZTogbWltZSB8fCAiYXBwbGljYXRpb24vcmRmK3htbCIKICAgICAgfSk7CgogICAgICBpZiAodHlwZW9mIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYiAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAvLyBJRSBkb2Vzbid0IGFsbG93IHVzaW5nIGEgYmxvYiBvYmplY3QgZGlyZWN0bHkgYXMgbGluayBocmVmLgogICAgICAgIC8vIFdvcmthcm91bmQgZm9yICJIVE1MNzAwNzogT25lIG9yIG1vcmUgYmxvYiBVUkxzIHdlcmUKICAgICAgICAvLyByZXZva2VkIGJ5IGNsb3NpbmcgdGhlIGJsb2IgZm9yIHdoaWNoIHRoZXkgd2VyZSBjcmVhdGVkLgogICAgICAgIC8vIFRoZXNlIFVSTHMgd2lsbCBubyBsb25nZXIgcmVzb2x2ZSBhcyB0aGUgZGF0YSBiYWNraW5nCiAgICAgICAgLy8gdGhlIFVSTCBoYXMgYmVlbiBmcmVlZC4iCiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVuYW1lKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gT3RoZXIgYnJvd3NlcnMKICAgICAgLy8gQ3JlYXRlIGEgbGluayBwb2ludGluZyB0byB0aGUgT2JqZWN0VVJMIGNvbnRhaW5pbmcgdGhlIGJsb2IKCgogICAgICB2YXIgYmxvYlVSTCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICB2YXIgdGVtcExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIHRlbXBMaW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIHRlbXBMaW5rLmhyZWYgPSBibG9iVVJMOwogICAgICB0ZW1wTGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgZmlsZW5hbWUpOyAvLyBTYWZhcmkgdGhpbmtzIF9ibGFuayBhbmNob3IgYXJlIHBvcCB1cHMuIFdlIG9ubHkgd2FudCB0byBzZXQgX2JsYW5rCiAgICAgIC8vIHRhcmdldCBpZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBIVE1MNSBkb3dubG9hZCBhdHRyaWJ1dGUuCiAgICAgIC8vIFRoaXMgYWxsb3dzIHlvdSB0byBkb3dubG9hZCBmaWxlcyBpbiBkZXNrdG9wIHNhZmFyaSBpZiBwb3AgdXAgYmxvY2tpbmcKICAgICAgLy8gaXMgZW5hYmxlZC4KCiAgICAgIGlmICh0eXBlb2YgdGVtcExpbmsuZG93bmxvYWQgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgdGVtcExpbmsuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLCAiX2JsYW5rIik7CiAgICAgIH0KCiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcExpbmspOwogICAgICB0ZW1wTGluay5jbGljaygpOwogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRlbXBMaW5rKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gRm9yIEZpcmVmb3ggaXQgaXMgbmVjZXNzYXJ5IHRvIGRlbGF5IHJldm9raW5nIHRoZSBPYmplY3RVUkwKICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChibG9iVVJMKTsKICAgICAgfSwgMTAwKTsKICAgIH0KCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG93bmxvYWRfYnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93LmxvY2F0aW9uID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L2RhdGFtb2RlbC1maWxlIjsKICAgIH07CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkX2J0bl9vd2wiKS5vbmNsaWNrID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGZpbGVSZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluX2NvbnRhaW5lciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibG9hZGluZyIpWzBdLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWZsZXgiOwogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoZWxwZXJfdGV4dCIpLmlubmVySFRNTCA9ICJZb3VyIE9XTCBPbnRvbG9neSBpcyBnZXR0aW5nIGFzc2VtYmxlZC4uLiI7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX0NMSU5JQ0FMVVJMICsgIi9nZXQvb3dsIik7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAvL3ZhciBmID0gbmV3IEJsb2IoW2ZpbGVSZXNwb25zZS5kYXRhXSk7CiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhmKTsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJsb2FkaW5nIilbMF0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGVscGVyX3RleHQiKS5pbm5lckhUTUwgPSAiQ0NETSBpcyByZWFkeSB0byBkb3dubG9hZCEiOwogICAgICAgICAgICAgIGRvd25sb2FkRmlsZShmaWxlUmVzcG9uc2UuZGF0YSwgIkNDRE0ub3dsIik7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwogIH0KfTs="},{"version":3,"sources":["DownloadArea.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,EAAA,MAAA,OAAA;AACA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,OAFA,qBAEA;AACA,aAAA,YAAA,CAAA,IAAA,EAAA,QAAA,EAAA,IAAA,EAAA;AACA;AACA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA;AACA,QAAA,IAAA,EAAA,IAAA,IAAA;AADA,OAAA,CAAA;;AAGA,UAAA,OAAA,MAAA,CAAA,SAAA,CAAA,UAAA,KAAA,WAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA,QAAA,MAAA,CAAA,SAAA,CAAA,UAAA,CAAA,IAAA,EAAA,QAAA;AACA;AACA,OAdA,CAeA;AACA;;;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AACA,MAAA,QAAA,CAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,OAAA;AACA,MAAA,QAAA,CAAA,YAAA,CAAA,UAAA,EAAA,QAAA,EArBA,CAsBA;AACA;AACA;AACA;;AACA,UAAA,OAAA,QAAA,CAAA,QAAA,KAAA,WAAA,EAAA;AACA,QAAA,QAAA,CAAA,YAAA,CAAA,QAAA,EAAA,QAAA;AACA;;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,QAAA;AACA,MAAA,QAAA,CAAA,KAAA;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,QAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,OAAA;AACA,OAHA,EAGA,GAHA,CAAA;AAIA;;AACA,IAAA,QAAA,CAAA,cAAA,CAAA,cAAA,EAAA,OAAA,GAAA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,qBAAA;AACA,KAFA;;AAGA,IAAA,QAAA,CAAA,cAAA,CAAA,kBAAA,EAAA,OAAA,wEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,QAAA,CAAA,cAAA,CAAA,gBAAA,EAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,cAAA,QAAA,CAAA,sBAAA,CAAA,SAAA,EAAA,CAAA,EAAA,KAAA,CAAA,OAAA,GACA,aADA;AAEA,cAAA,QAAA,CAAA,cAAA,CAAA,aAAA,EAAA,SAAA,GACA,2CADA;AAJA;AAAA,qBAMA,KAAA,CAAA,GAAA,CACA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,UADA,CANA;;AAAA;AAMA,cAAA,YANA;AASA;AACA;AACA,cAAA,QAAA,CAAA,sBAAA,CAAA,SAAA,EAAA,CAAA,EAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,cAAA,QAAA,CAAA,cAAA,CAAA,aAAA,EAAA,SAAA,GACA,4BADA;AAEA,cAAA,YAAA,CAAA,YAAA,CAAA,IAAA,EAAA,UAAA,CAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;AAgBA;AA3DA,CAAA","sourcesContent":["<template>\n  <div><!--\n    <div class=\"container\" id=\"main_container\">\n      \n      <div class=\"row\">\n        <h1>Datamodel Download</h1>\n        <button class=\"btn blue-grey lighten-1\" id=\"download_btn\">\n          Download Datamodel as .xlsx\n        </button>\n      </div>\n      <div class=\"row\">\n        <h1>OWL Download</h1>\n        <button class=\"btn blue-grey lighten-1\" id=\"download_btn_owl\">\n          Download CCDM Ontology\n        </button>\n      </div>\n    </div>\n    <div class=\"loading center-align\">\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n    </div>\n    <h5 id=\"helper_text\"></h5>\n    -->\n  </div>\n</template>\n<script>\nimport ax from \"axios\";\nconst axios = ax;\nexport default {\n  name: \"download\",\n  mounted() {\n    function downloadFile(data, filename, mime) {\n      // It is necessary to create a new blob object with mime-type explicitly set\n      // otherwise only Chrome works like it should\n      const blob = new Blob([data], {\n        type: mime || \"application/rdf+xml\",\n      });\n      if (typeof window.navigator.msSaveBlob !== \"undefined\") {\n        // IE doesn't allow using a blob object directly as link href.\n        // Workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n        return;\n      }\n      // Other browsers\n      // Create a link pointing to the ObjectURL containing the blob\n      const blobURL = window.URL.createObjectURL(blob);\n      const tempLink = document.createElement(\"a\");\n      tempLink.style.display = \"none\";\n      tempLink.href = blobURL;\n      tempLink.setAttribute(\"download\", filename);\n      // Safari thinks _blank anchor are pop ups. We only want to set _blank\n      // target if the browser does not support the HTML5 download attribute.\n      // This allows you to download files in desktop safari if pop up blocking\n      // is enabled.\n      if (typeof tempLink.download === \"undefined\") {\n        tempLink.setAttribute(\"target\", \"_blank\");\n      }\n      document.body.appendChild(tempLink);\n      tempLink.click();\n      document.body.removeChild(tempLink);\n      setTimeout(() => {\n        // For Firefox it is necessary to delay revoking the ObjectURL\n        window.URL.revokeObjectURL(blobURL);\n      }, 100);\n    }\n    document.getElementById(\"download_btn\").onclick = function () {\n      window.location = process.env.VUE_APP_CLINICALURL + \"/get/datamodel-file\";\n    };\n    document.getElementById(\"download_btn_owl\").onclick = async function () {\n      document.getElementById(\"main_container\").style.display = \"none\";\n      document.getElementsByClassName(\"loading\")[0].style.display =\n        \"inline-flex\";\n      document.getElementById(\"helper_text\").innerHTML =\n        \"Your OWL Ontology is getting assembled...\";\n      const fileResponse = await axios.get(\n        process.env.VUE_APP_CLINICALURL + \"/get/owl\"\n      );\n      //var f = new Blob([fileResponse.data]);\n      //console.log(f);\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\n      document.getElementById(\"helper_text\").innerHTML =\n        \"CCDM is ready to download!\";\n      downloadFile(fileResponse.data, \"CCDM.owl\");\n    };\n  },\n};\n</script>\n<style scoped>\n.loading {\n  margin-top: 33vh;\n  display: none;\n}\n.loading .dot {\n  position: relative;\n  width: 2em;\n  height: 2em;\n  margin: 0.8em;\n  border-radius: 50%;\n}\n.loading .dot::before {\n  position: absolute;\n  content: \"\";\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  border-radius: inherit;\n  animation: wave 2s ease-out infinite;\n}\n.loading .dot:nth-child(1) {\n  background: #c3a3d6;\n}\n.loading .dot:nth-child(1)::before {\n  left: 0;\n  animation-delay: 0.2s;\n}\n.loading .dot:nth-child(2) {\n  background: #b48dcc;\n}\n.loading .dot:nth-child(2)::before {\n  left: 0;\n  animation-delay: 0.4s;\n}\n.loading .dot:nth-child(3) {\n  background: #965fb8;\n}\n.loading .dot:nth-child(3)::before {\n  left: 0;\n  animation-delay: 0.6s;\n}\n.loading .dot:nth-child(4) {\n  background: #8748ae;\n}\n.loading .dot:nth-child(4)::before {\n  left: 0;\n  animation-delay: 0.8s;\n}\n.loading .dot:nth-child(5) {\n  background: #6a1b9a;\n}\n.loading .dot:nth-child(5)::before {\n  left: 0;\n  animation-delay: 1s;\n}\n\n@keyframes wave {\n  50%,\n  75% {\n    transform: scale(2.5);\n  }\n  80%,\n  100% {\n    opacity: 0;\n  }\n}\n</style>"],"sourceRoot":"src/components"}]}