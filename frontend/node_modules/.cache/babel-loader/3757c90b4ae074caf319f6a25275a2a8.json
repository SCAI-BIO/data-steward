{"remainingRequest":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/thread-loader/dist/cjs.js!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DownloadArea.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/src/components/DownloadArea.vue","mtime":1634292594288},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/philippwegner/Desktop/Fraunhofer/SEM-Group/git/data-steward-tool/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9waGlsaXBwd2VnbmVyL0Rlc2t0b3AvRnJhdW5ob2Zlci9TRU0tR3JvdXAvZ2l0L2RhdGEtc3Rld2FyZC10b29sL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXggZnJvbSAiYXhpb3MiOwp2YXIgYXhpb3MgPSBheDsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJkb3dubG9hZCIsCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGZ1bmN0aW9uIGRvd25sb2FkRmlsZShkYXRhLCBmaWxlbmFtZSwgbWltZSkgewogICAgICAvLyBJdCBpcyBuZWNlc3NhcnkgdG8gY3JlYXRlIGEgbmV3IGJsb2Igb2JqZWN0IHdpdGggbWltZS10eXBlIGV4cGxpY2l0bHkgc2V0CiAgICAgIC8vIG90aGVyd2lzZSBvbmx5IENocm9tZSB3b3JrcyBsaWtlIGl0IHNob3VsZAogICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwgewogICAgICAgIHR5cGU6IG1pbWUgfHwgImFwcGxpY2F0aW9uL3JkZit4bWwiCiAgICAgIH0pOwoKICAgICAgaWYgKHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgLy8gSUUgZG9lc24ndCBhbGxvdyB1c2luZyBhIGJsb2Igb2JqZWN0IGRpcmVjdGx5IGFzIGxpbmsgaHJlZi4KICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciAiSFRNTDcwMDc6IE9uZSBvciBtb3JlIGJsb2IgVVJMcyB3ZXJlCiAgICAgICAgLy8gcmV2b2tlZCBieSBjbG9zaW5nIHRoZSBibG9iIGZvciB3aGljaCB0aGV5IHdlcmUgY3JlYXRlZC4KICAgICAgICAvLyBUaGVzZSBVUkxzIHdpbGwgbm8gbG9uZ2VyIHJlc29sdmUgYXMgdGhlIGRhdGEgYmFja2luZwogICAgICAgIC8vIHRoZSBVUkwgaGFzIGJlZW4gZnJlZWQuIgogICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlbmFtZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIE90aGVyIGJyb3dzZXJzCiAgICAgIC8vIENyZWF0ZSBhIGxpbmsgcG9pbnRpbmcgdG8gdGhlIE9iamVjdFVSTCBjb250YWluaW5nIHRoZSBibG9iCgoKICAgICAgdmFyIGJsb2JVUkwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgdmFyIHRlbXBMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICB0ZW1wTGluay5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB0ZW1wTGluay5ocmVmID0gYmxvYlVSTDsKICAgICAgdGVtcExpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGZpbGVuYW1lKTsgLy8gU2FmYXJpIHRoaW5rcyBfYmxhbmsgYW5jaG9yIGFyZSBwb3AgdXBzLiBXZSBvbmx5IHdhbnQgdG8gc2V0IF9ibGFuawogICAgICAvLyB0YXJnZXQgaWYgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgSFRNTDUgZG93bmxvYWQgYXR0cmlidXRlLgogICAgICAvLyBUaGlzIGFsbG93cyB5b3UgdG8gZG93bmxvYWQgZmlsZXMgaW4gZGVza3RvcCBzYWZhcmkgaWYgcG9wIHVwIGJsb2NraW5nCiAgICAgIC8vIGlzIGVuYWJsZWQuCgogICAgICBpZiAodHlwZW9mIHRlbXBMaW5rLmRvd25sb2FkID09PSAidW5kZWZpbmVkIikgewogICAgICAgIHRlbXBMaW5rLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgIl9ibGFuayIpOwogICAgICB9CgogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlbXBMaW5rKTsKICAgICAgdGVtcExpbmsuY2xpY2soKTsKICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZW1wTGluayk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIEZvciBGaXJlZm94IGl0IGlzIG5lY2Vzc2FyeSB0byBkZWxheSByZXZva2luZyB0aGUgT2JqZWN0VVJMCiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVSTCk7CiAgICAgIH0sIDEwMCk7CiAgICB9CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkX2J0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQ0xJTklDQUxVUkwgKyAiL2dldC9kYXRhbW9kZWwtZmlsZSI7CiAgICB9OwoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb3dubG9hZF9idG5fb3dsIikub25jbGljayA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBmaWxlUmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbl9jb250YWluZXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxvYWRpbmciKVswXS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1mbGV4IjsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGVscGVyX3RleHQiKS5pbm5lckhUTUwgPSAiWW91ciBPV0wgT250b2xvZ3kgaXMgZ2V0dGluZyBhc3NlbWJsZWQuLi4iOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DTElOSUNBTFVSTCArICIvZ2V0L293bCIpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGZpbGVSZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgLy92YXIgZiA9IG5ldyBCbG9iKFtmaWxlUmVzcG9uc2UuZGF0YV0pOwogICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZik7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibG9hZGluZyIpWzBdLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhlbHBlcl90ZXh0IikuaW5uZXJIVE1MID0gIkNDRE0gaXMgcmVhZHkgdG8gZG93bmxvYWQhIjsKICAgICAgICAgICAgICBkb3dubG9hZEZpbGUoZmlsZVJlc3BvbnNlLmRhdGEsICJDQ0RNLm93bCIpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKICB9Cn07"},{"version":3,"sources":["DownloadArea.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,EAAA,MAAA,OAAA;AACA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,OAFA,qBAEA;AACA,aAAA,YAAA,CAAA,IAAA,EAAA,QAAA,EAAA,IAAA,EAAA;AACA;AACA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA;AACA,QAAA,IAAA,EAAA,IAAA,IAAA;AADA,OAAA,CAAA;;AAGA,UAAA,OAAA,MAAA,CAAA,SAAA,CAAA,UAAA,KAAA,WAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA,QAAA,MAAA,CAAA,SAAA,CAAA,UAAA,CAAA,IAAA,EAAA,QAAA;AACA;AACA,OAdA,CAeA;AACA;;;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AACA,MAAA,QAAA,CAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,OAAA;AACA,MAAA,QAAA,CAAA,YAAA,CAAA,UAAA,EAAA,QAAA,EArBA,CAsBA;AACA;AACA;AACA;;AACA,UAAA,OAAA,QAAA,CAAA,QAAA,KAAA,WAAA,EAAA;AACA,QAAA,QAAA,CAAA,YAAA,CAAA,QAAA,EAAA,QAAA;AACA;;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,QAAA;AACA,MAAA,QAAA,CAAA,KAAA;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,QAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,OAAA;AACA,OAHA,EAGA,GAHA,CAAA;AAIA;;AACA,IAAA,QAAA,CAAA,cAAA,CAAA,cAAA,EAAA,OAAA,GAAA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,qBAAA;AACA,KAFA;;AAGA,IAAA,QAAA,CAAA,cAAA,CAAA,kBAAA,EAAA,OAAA,wEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,QAAA,CAAA,cAAA,CAAA,gBAAA,EAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,cAAA,QAAA,CAAA,sBAAA,CAAA,SAAA,EAAA,CAAA,EAAA,KAAA,CAAA,OAAA,GACA,aADA;AAEA,cAAA,QAAA,CAAA,cAAA,CAAA,aAAA,EAAA,SAAA,GACA,2CADA;AAJA;AAAA,qBAMA,KAAA,CAAA,GAAA,CACA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,UADA,CANA;;AAAA;AAMA,cAAA,YANA;AASA;AACA;AACA,cAAA,QAAA,CAAA,sBAAA,CAAA,SAAA,EAAA,CAAA,EAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,cAAA,QAAA,CAAA,cAAA,CAAA,aAAA,EAAA,SAAA,GACA,4BADA;AAEA,cAAA,YAAA,CAAA,YAAA,CAAA,IAAA,EAAA,UAAA,CAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;AAgBA;AA3DA,CAAA","sourcesContent":["<template>\n  <div><!--\n    <div class=\"container\" id=\"main_container\">\n      \n      <div class=\"row\">\n        <h1>Datamodel Download</h1>\n        <button class=\"btn blue-grey lighten-1\" id=\"download_btn\">\n          Download Datamodel as .xlsx\n        </button>\n      </div>\n      <div class=\"row\">\n        <h1>OWL Download</h1>\n        <button class=\"btn blue-grey lighten-1\" id=\"download_btn_owl\">\n          Download CCDM Ontology\n        </button>\n      </div>\n    </div>\n    <div class=\"loading center-align\">\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n      <div class=\"dot\"></div>\n    </div>\n    <h5 id=\"helper_text\"></h5>\n    -->\n  </div>\n</template>\n<script>\nimport ax from \"axios\";\nconst axios = ax;\nexport default {\n  name: \"download\",\n  mounted() {\n    function downloadFile(data, filename, mime) {\n      // It is necessary to create a new blob object with mime-type explicitly set\n      // otherwise only Chrome works like it should\n      const blob = new Blob([data], {\n        type: mime || \"application/rdf+xml\",\n      });\n      if (typeof window.navigator.msSaveBlob !== \"undefined\") {\n        // IE doesn't allow using a blob object directly as link href.\n        // Workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n        return;\n      }\n      // Other browsers\n      // Create a link pointing to the ObjectURL containing the blob\n      const blobURL = window.URL.createObjectURL(blob);\n      const tempLink = document.createElement(\"a\");\n      tempLink.style.display = \"none\";\n      tempLink.href = blobURL;\n      tempLink.setAttribute(\"download\", filename);\n      // Safari thinks _blank anchor are pop ups. We only want to set _blank\n      // target if the browser does not support the HTML5 download attribute.\n      // This allows you to download files in desktop safari if pop up blocking\n      // is enabled.\n      if (typeof tempLink.download === \"undefined\") {\n        tempLink.setAttribute(\"target\", \"_blank\");\n      }\n      document.body.appendChild(tempLink);\n      tempLink.click();\n      document.body.removeChild(tempLink);\n      setTimeout(() => {\n        // For Firefox it is necessary to delay revoking the ObjectURL\n        window.URL.revokeObjectURL(blobURL);\n      }, 100);\n    }\n    document.getElementById(\"download_btn\").onclick = function () {\n      window.location = process.env.VUE_APP_CLINICALURL + \"/get/datamodel-file\";\n    };\n    document.getElementById(\"download_btn_owl\").onclick = async function () {\n      document.getElementById(\"main_container\").style.display = \"none\";\n      document.getElementsByClassName(\"loading\")[0].style.display =\n        \"inline-flex\";\n      document.getElementById(\"helper_text\").innerHTML =\n        \"Your OWL Ontology is getting assembled...\";\n      const fileResponse = await axios.get(\n        process.env.VUE_APP_CLINICALURL + \"/get/owl\"\n      );\n      //var f = new Blob([fileResponse.data]);\n      //console.log(f);\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\n      document.getElementById(\"helper_text\").innerHTML =\n        \"CCDM is ready to download!\";\n      downloadFile(fileResponse.data, \"CCDM.owl\");\n    };\n  },\n};\n</script>\n<style scoped>\n.loading {\n  margin-top: 33vh;\n  display: none;\n}\n.loading .dot {\n  position: relative;\n  width: 2em;\n  height: 2em;\n  margin: 0.8em;\n  border-radius: 50%;\n}\n.loading .dot::before {\n  position: absolute;\n  content: \"\";\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  border-radius: inherit;\n  animation: wave 2s ease-out infinite;\n}\n.loading .dot:nth-child(1) {\n  background: #c3a3d6;\n}\n.loading .dot:nth-child(1)::before {\n  left: 0;\n  animation-delay: 0.2s;\n}\n.loading .dot:nth-child(2) {\n  background: #b48dcc;\n}\n.loading .dot:nth-child(2)::before {\n  left: 0;\n  animation-delay: 0.4s;\n}\n.loading .dot:nth-child(3) {\n  background: #965fb8;\n}\n.loading .dot:nth-child(3)::before {\n  left: 0;\n  animation-delay: 0.6s;\n}\n.loading .dot:nth-child(4) {\n  background: #8748ae;\n}\n.loading .dot:nth-child(4)::before {\n  left: 0;\n  animation-delay: 0.8s;\n}\n.loading .dot:nth-child(5) {\n  background: #6a1b9a;\n}\n.loading .dot:nth-child(5)::before {\n  left: 0;\n  animation-delay: 1s;\n}\n\n@keyframes wave {\n  50%,\n  75% {\n    transform: scale(2.5);\n  }\n  80%,\n  100% {\n    opacity: 0;\n  }\n}\n</style>"],"sourceRoot":"src/components"}]}